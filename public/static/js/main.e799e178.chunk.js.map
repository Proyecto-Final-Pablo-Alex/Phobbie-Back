{"version":3,"sources":["components/Chat.js","components/Home.js","components/Login.js","components/Signup.js","components/ProfileNavbar.js","components/Profile.js","components/EditUser.js","components/AddHobbie.js","components/AllHobbies.js","components/Navbar.js","components/HobbieDetails.js","components/FriendProfile.js","components/MyFriends.js","components/MyHobbies.js","components/ChatList.js","App.js","index.js"],"names":["check","Home","className","src","alt","React","Component","Login","state","user","username","password","errorMsg","event","preventDefault","axios","method","url","data","this","withCredentials","then","result","props","setAppState","setState","catch","error","target","name","value","logInSuccess","to","onSubmit","handleSubmit","htmlFor","type","onChange","handleInput","autoComplete","Signup","age","location","friends","hobbies","_id","passwordConfirm","photo","status","successSignUp","errorMessage","console","log","message","err","allOptions","map","provincia","index","style","textAlign","border","handleChange","defaultValue","hidden","ProfileNavbar","loggedout","onClick","logout","Profile","loaded","requests","requestCounter","delButton","delButtonConfirm","deleted","stateCopy","length","e","deleteAccountButton","delAccountConfirmation","EditUser","confirmPassword","successEditing","files","uploadForm","FormData","append","image","res","placeholder","AddHobbie","newHobbie","userId","description","hobbieCreated","AllHobbies","allHobbies","copyAllHobbies","hobbiesfiletered","filter","hobbie","toLowerCase","includes","hobbiesmap","sort","a","b","localeCompare","users","slice","filterHobbies","Navbar","toggleButton","HobbieDetails","added","requestSent","renderUsers","usersChecked","match","params","hob","id","requester","recipient","filteredUsers","friend","usersmap","width","checkIfFriends","disabled","sendFriendRequest","removeFromMyHobbies","addToMyHobbies","filterUsers","onlyMyAreaUsers","FriendProfile","friendId","hobbiesList","deleteFriend","MyFriends","friendsRender","requesterId","reqId","updateRequestAndFriends","friendsFiltered","friendList","friendRequests","req","acceptFriendRequest","rejectFriendRequest","filterFriends","MyHobbies","ChatList","chats","renderChats","chatsFiltered","chat","participants","participant","allChats","unreadMsgs","messages","filterChats","Chat","scrollToBottom","messagesEnd","scrollIntoView","behavior","nameInput","focus","chatCheck","setInterval","clearInterval","date","Date","time","timeArr","split","displayTime","ref","el","action","input","sendMessage","App","theme","body","toggleMode","path","exact","component","editStateFromLogout","editStateFromLogin","routeProps","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+IAGIA,E,0FCcWC,E,4JAbX,WACI,OACI,sBAAKC,UAAU,OAAf,UACI,qBAAKC,IAAI,0GAA0GC,IAAI,SACvH,sDACA,uBACA,6NAC8L,0D,GAR3LC,IAAMC,W,wBCsEVC,E,4MAnEbC,MAAQ,CACNC,KAAM,CACJC,SAAU,GACVC,SAAU,IAEZC,UAAU,G,kDAGZ,SAAaC,GAAQ,IAAD,OAClBA,EAAMC,iBACNC,IAAM,CACJC,OAAQ,OACRC,IAAK,8CACLC,KAAMC,KAAKX,MAAMC,KACjBW,iBAAiB,IAEhBC,MAAK,SAACC,GACFA,EAAOJ,KAAKT,KACb,EAAKc,MAAMC,YAAYF,EAAOJ,KAAKT,MAEnC,EAAKgB,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8BI,UAAU,QAG3Cc,OAAM,SAACC,GACN,EAAKF,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8BI,UAAU,U,yBAI9C,SAAYC,GACV,MAAwBA,EAAMe,OAAtBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,MACdX,KAAKM,SAAL,2BACKN,KAAKX,OADV,IAEEC,KAAK,2BAAMU,KAAKX,MAAMC,MAAlB,kBAAyBoB,EAAOC,S,oBAIxC,WAAU,IAAD,OACP,OAAOX,KAAKI,MAAMQ,aAChB,cAAC,IAAD,CAAUC,GAAG,aAEb,sBAAK9B,UAAU,QAAf,UACE,uCACA,uBAAM+B,SAAU,SAACpB,GAAD,OAAW,EAAKqB,aAAarB,IAA7C,UACE,uBAAOsB,QAAQ,WAAf,sBACA,uBACEC,KAAK,OACLP,KAAK,WACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKyB,YAAYzB,IACtC0B,aAAa,QAGf,uBAAOJ,QAAQ,WAAf,sBACA,uBACEC,KAAK,WACLP,KAAK,WACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKyB,YAAYzB,IACtC0B,aAAa,QAGf,4CAECpB,KAAKX,MAAMI,SAAW,mBAAGV,UAAU,gBAAb,2CAAiE,e,GA9D9EG,IAAMC,WC6GXkC,E,4MA7GbhC,MAAQ,CACNC,KAAM,CACJC,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLlC,SAAU,GACVmC,gBAAgB,GAChBC,MAAO,GACPC,OAAO,IAETC,eAAe,EACfC,cAAc,EACdtC,SAAU,I,kDAGZ,SAAaC,GAAQ,IAAD,OAClBA,EAAMC,iBACNC,IAAM,CACJC,OAAQ,OACRC,IAAK,+CACLC,KAAMC,KAAKX,MAAMC,KACjBW,iBAAiB,IAEhBC,MAAK,SAACC,GACL6B,QAAQC,IAAI,OAAO9B,EAAOJ,MACE,iBAAxBI,EAAOJ,KAAKmC,QACd,EAAK5B,SAAL,2BAAmB,EAAKjB,OAAxB,IAA+ByC,eAAe,KAE9C,EAAKxB,SAAL,2BAAmB,EAAKjB,OAAxB,IAA+B0C,cAAc,EAAMtC,SAAUU,EAAOJ,KAAKmC,cAG5E3B,OAAM,SAAC4B,GACNH,QAAQC,IAAI,QAASE,GACrB,EAAK7B,SAAL,2BAAmB,EAAKjB,OAAxB,IAA+B0C,cAAc,EAAMtC,SAAU0C,EAAID,gB,0BAIvE,SAAaxC,GACX,MAAwBA,EAAMe,OAAtBE,EAAR,EAAQA,MAAOD,EAAf,EAAeA,KACfV,KAAKM,SAAL,2BACKN,KAAKX,OADV,IAEEC,KAAK,2BAAMU,KAAKX,MAAMC,MAAlB,kBAAyBoB,EAAOC,S,oBAIxC,WAAU,IAAD,OAODyB,EANa,CAAC,QAAQ,WAAW,WAAW,aAAU,WAAW,QAAQ,UAAU,YAAY,SAAS,aAC9G,WAAQ,YAAY,eAAY,cAAc,aAAU,eAAY,SAAS,SAAS,UAAU,cAChG,eAAY,SAAS,SAAS,iBAAiB,UAAO,UAAO,YAAS,OAAO,SAAS,YAAS,SAAS,UACxG,SAAS,WAAW,aAAa,aAAa,WAAW,YAAY,UAAU,UAAU,QAAQ,YACjG,WAAW,SAAS,SAAS,WAAW,aAAa,UAAU,SAAS,YAE5CC,KAAI,SAACC,EAAWC,GAAS,OAAO,wBAAoBC,MAAO,CAACC,UAAU,SAAUC,OAAO,mBAAvD,SAA4EJ,GAA/DC,MAEzE,OAAOvC,KAAKX,MAAMyC,cAChB,cAAC,IAAD,CAAUjB,GAAG,WAEb,sBAAK9B,UAAU,SAAf,UACE,yCACA,uBAAM+B,SAAU,SAACpB,GAAD,OAAW,EAAKqB,aAAarB,IAA7C,UACE,uBAAOsB,QAAQ,WAAf,sBACA,uBACEC,KAAK,OACLP,KAAK,WACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IACvC0B,aAAa,QAGf,uBAAOJ,QAAQ,WAAf,sBACA,uBACEC,KAAK,WACLP,KAAK,WACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IACvC0B,aAAa,QAGf,uBAAOJ,QAAQ,kBAAf,8BACA,uBACEC,KAAK,WACLP,KAAK,kBACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IACvC0B,aAAa,QAGf,uBAAOJ,QAAQ,MAAf,iBACA,uBACEC,KAAK,SACLP,KAAK,MACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IACvC0B,aAAa,QAGf,uBAAOJ,QAAQ,WAAf,sBACA,yBAAQN,KAAK,WAAWQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IAAQkD,aAAa,0BAApF,UACA,wBAAQjC,MAAM,GAAIkC,QAAM,EAAxB,qCACGT,KAGH,gDAGDpC,KAAKX,MAAM0C,aAAe,mBAAGhD,UAAU,gBAAb,SAA8BiB,KAAKX,MAAMI,WAAgB,Y,GAzGvEP,IAAMC,W,OCoCZ2D,E,4MAjCXzD,MAAQ,CACJ0D,WAAW,G,4CAGf,WAAS,IAAD,OACJnD,IAAM,CACFC,OAAQ,MACRC,IAAK,+CACLG,iBAAiB,IAEpBC,MAAK,SAAAC,GACF,EAAKC,MAAMC,cACX,EAAKC,SAAS,CAACyC,WAAW,OAE7BxC,OAAM,SAAAC,GACHwB,QAAQC,IAAIzB,Q,oBAKpB,WAAS,IAAD,OACJ,OACI,sBAAKzB,UAAU,gBAAf,UACI,cAAC,IAAD,CAAM8B,GAAG,WAAT,SAAoB,+CACpB,cAAC,IAAD,CAAMA,GAAG,cAAT,SAAuB,+CACvB,cAAC,IAAD,CAAMA,GAAG,cAAT,SAAuB,+CACvB,cAAC,IAAD,CAAMA,GAAG,YAAT,SAAqB,6CACrB,cAAC,IAAD,CAAMA,GAAG,IAAT,SAAa,wBAAQmC,QAAS,kBAAI,EAAKC,UAA1B,6B,GA9BD/D,IAAMC,WCyHnB+D,E,4MArHb7D,MAAQ,CACNC,KAAM,CACJC,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLlC,SAAU,GACVoC,MAAO,GACPC,OAAO,IAETsB,QAAQ,EACRC,SAAU,GACVC,eAAgB,GAChBC,WAAU,EACVC,iBAAkB,GAClBC,SAAQ,G,uDAIV,WAAoB,IAAD,OACjB5D,IAAM,CACJC,OAAQ,MACRC,IAAK,oDACLG,iBAAiB,IAElBC,MAAK,SAAAC,GACJP,IAAM,CACJC,OAAQ,OACRC,IAAK,qDACLC,KAAM,CAAC2B,IAAKvB,EAAOJ,KAAKI,OAAOuB,KAC/BzB,iBAAiB,IAElBC,MAAK,SAAAkD,GACJ,IAAMK,EAAS,eAAO,EAAKpE,OAC3BoE,EAAUnE,KAAOa,EAAOJ,KAAKI,OAC7BsD,EAAUL,SAAWA,EAASrD,KAC9B0D,EAAUJ,eAAiBD,EAASrD,KAAK2D,OACzCD,EAAUN,QAAS,EACnB,EAAK7C,SAASmD,SAGjBlD,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,Q,iCAOhB,WACMR,KAAKX,MAAMiE,UAGbtD,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8BiE,WAAU,KAFxCtD,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8BiE,WAAU,O,yBAM5C,SAAYK,GACV,IAAOhD,EAASgD,EAAElD,OAAXE,MACD8C,EAAU,eAAIzD,KAAKX,OACzBoE,EAAUF,iBAAmB5C,EAC7BX,KAAKM,SAASmD,K,oCAGhB,WAAyB,IAAD,OACtB7D,IAAM,CACJC,OAAO,OACPC,IAAI,oDACJC,KAAM,CAAC2B,IAAK1B,KAAKX,MAAMC,KAAKoC,KAC5BzB,iBAAgB,IAEjBC,MAAK,SAACC,GACL,EAAKC,MAAMC,mB,oBAIf,WAAU,IAAD,OACP,EAAwDL,KAAKX,MAAMC,KAA3DC,EAAR,EAAQA,SAAUiC,EAAlB,EAAkBA,QAASI,EAA3B,EAA2BA,MAAMC,EAAjC,EAAiCA,OAAOP,EAAxC,EAAwCA,IAAIC,EAA5C,EAA4CA,SAC5C,OAASvB,KAAKX,MAAM8D,OAA4HnD,KAAKI,MAAMQ,aACzJ,sBAAK7B,UAAU,UAAf,UACE,cAAC,EAAD,CAAesB,YAAa,kBAAI,EAAKD,MAAMC,iBAC3C,qBAAKrB,IAAK4C,EAAO3C,IAAG,4BAAuBM,KAC3C,sBAAKR,UAAU,OAAf,UACE,2CAAcQ,KACd,oBAAGR,UAAU,cAAb,UACE,wCADF,IACkB8C,KAElB,oBAAG9C,UAAU,gBAAb,UACE,0CADF,IACoBwC,KAEpB,8BACE,qCADF,IACeD,KAEf,8BACGE,EAAQkC,OADX,iBAIF,sBAAK3E,UAAU,eAAf,UACE,cAAC,IAAD,CAAM8B,GAAG,aAAT,SAAsB,iDACtB,wBAAQmC,QAAS,kBAAI,EAAKY,uBAA1B,4BACG5D,KAAKX,MAAMiE,UACV,sBAAKvE,UAAU,cAAf,UACE,sEACA,uBAAM+B,SAAU,kBAAI,EAAK+C,0BAAzB,UACE,uBAAO5C,KAAK,OAAOC,SAAU,SAACyC,GAAD,OAAK,EAAKxC,YAAYwC,IAAIvC,aAAa,QACpE,mDAGA,WA9B6J,cAAC,IAAD,CAAUP,GAAG,YAAzJ,qBAAK9B,UAAU,UAAf,SAAyB,sBAAKA,UAAU,WAAf,UAA0B,wBAAW,wBAAW,wBAAW,iC,GAlFjGG,IAAMC,WCwJb2E,E,4MAxJXzE,MAAQ,CACJC,KAAM,CACFC,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLlC,SAAU,GACVuE,gBAAgB,GAChBnC,MAAO,GACPC,OAAO,IAETmC,gBAAgB,EAChBjC,cAAa,G,uDAEnB,WACE,IAAMzC,EAAKU,KAAKI,MAAMd,KACtBU,KAAKM,SAAL,2BACON,KAAKX,OADZ,IAEIC,KAAMA,O,0BAIZ,SAAaI,GAAQ,IAAD,OAEhB,GADAA,EAAMC,iBACHK,KAAKX,MAAMC,KAAKE,WAAaQ,KAAKX,MAAMC,KAAKyE,gBAC9C,GAAIrE,EAAMe,OAAOmB,MAAMqC,MAAMP,OAAS,EAAE,CACtC,IAAI9B,EAAQlC,EAAMe,OAAOmB,MAAMqC,MAAM,GACjCC,EAAa,IAAIC,SACrBD,EAAWE,OAAO,WAAYxC,GAC9BhC,IAAM,CACJC,OAAQ,OACRC,IAAK,+CACLC,KAAMmE,EACNjE,iBAAiB,IAElBC,MAAK,SAAAmE,GACJzE,IAAM,CACJC,OAAQ,OACRC,IAAK,kDACLC,KAAK,2BAAK,EAAKV,MAAMC,MAAjB,IAAuBsC,MAAOyC,EAAMtE,KAAKsE,QAC7CpE,iBAAiB,IAElBC,MAAK,SAACoE,GACL,EAAKhE,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8B2E,gBAAe,WAGhDzD,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,WAGdZ,IAAM,CACJC,OAAQ,OACRC,IAAK,kDACLC,KAAK,eAAKC,KAAKX,MAAMC,MACrBW,iBAAiB,IAElBC,MAAK,SAACoE,GACN,EAAKhE,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8B2E,gBAAe,QAE7CzD,OAAM,SAAAC,GACPwB,QAAQC,IAAIzB,WAIfR,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8B0C,cAAa,O,0BAI9C,SAAarC,GACX,MAAwBA,EAAMe,OAAtBE,EAAR,EAAQA,MAAOD,EAAf,EAAeA,KACfV,KAAKM,SAAL,2BACKN,KAAKX,OADV,IAEEC,KAAK,2BAAMU,KAAKX,MAAMC,MAAlB,kBAAyBoB,EAAOC,S,oBAI5C,WAAU,IAAD,OAODyB,EANa,CAAC,QAAQ,WAAW,WAAW,aAAU,WAAW,QAAQ,UAAU,YAAY,SAAS,aAC9G,WAAQ,YAAY,eAAY,cAAc,aAAU,eAAY,SAAS,SAAS,UAAU,cAChG,eAAY,SAAS,SAAS,iBAAiB,UAAO,UAAO,YAAS,OAAO,SAAS,YAAS,SAAS,UACxG,SAAS,WAAW,aAAa,aAAa,WAAW,YAAY,UAAU,UAAU,QAAQ,YACjG,yBAAyB,SAAS,SAAS,WAAW,aAAa,UAAU,SAAS,YAE1DC,KAAI,SAACC,EAAWC,GAAS,OAAO,iCAAqBD,GAARC,MAEzE,EAA2CvC,KAAKI,MAAMd,KAA/CsC,EAAP,EAAOA,MAAON,EAAd,EAAcA,IAAKI,EAAnB,EAAmBA,IAAKH,EAAxB,EAAwBA,SAASM,EAAjC,EAAiCA,OACjC,OAAO7B,KAAKX,MAAM2E,eAAiB,cAAC,IAAD,CAAUnD,GAAG,aAC9C,sBAAK9B,UAAU,WAAf,UACC,8CACC,uBAAM+B,SAAU,SAACpB,GAAD,OAAW,EAAKqB,aAAarB,IAA7C,UAEA,uBAAOuB,KAAK,OAAOP,KAAK,MAAMmC,QAAM,EAAClC,MAAOe,IAE5C,uBAAOV,QAAQ,QAAf,6BACE,uBACEC,KAAK,OACLP,KAAK,UAEP,uBAAOO,KAAK,OAAOP,KAAK,cAAcmC,QAAM,EAAClC,MAAOiB,IAIpD,uBAAOZ,QAAQ,MAAf,iBACA,uBACEC,KAAK,SACLP,KAAK,MACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IACvCkD,aAActB,IAGhB,uBAAON,QAAQ,WAAf,sBACA,wBAAQN,KAAK,WAAWQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IAAQkD,aAAcrB,EAArF,SACGa,IAGH,uBAAOpB,QAAQ,SAAf,oBACA,uBACEjC,UAAU,SACVkC,KAAK,OACLP,KAAK,SACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IACvCkD,aAAcf,IAGhB,uBAAOb,QAAQ,WAAf,sBACA,uBACEC,KAAK,WACLP,KAAK,WACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IACvC6E,YAAa,wBAGf,uBAAOvD,QAAQ,kBAAf,8BACA,uBACEC,KAAK,WACLP,KAAK,kBACLQ,SAAU,SAACxB,GAAD,OAAW,EAAKiD,aAAajD,IACvC6E,YAAa,oBAEf,gCACA,kDACA,cAAC,IAAD,CAAM1D,GAAG,WAAT,SAAoB,kDAEnBb,KAAKX,MAAM0C,aAAe,gHAAyF,e,GAnJvG7C,IAAMC,WCyEdqF,E,4MAtEbnF,MAAQ,CACNC,KAAM,CACJC,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLlC,SAAU,GACVoC,MAAO,GACPC,OAAO,IAET4C,UAAW,CACTC,OAAQ,GACRhE,KAAM,GACNkB,MAAO,GACP+C,YAAa,IAEfC,eAAe,G,uDAGjB,WACE,IAAOtF,EAAQU,KAAKI,MAAbd,KACPU,KAAKM,SAAS,CAAChB,OAAMmF,UAAU,2BAAKzE,KAAKX,MAAMoF,WAAjB,IAA4BC,OAAQpF,EAAKoC,U,0BAGzE,SAAaiC,GAAI,IAAD,OACdA,EAAEhE,iBACFC,IAAM,CACJC,OAAQ,OACRC,IAAK,0DACLC,KAAMC,KAAKX,MAAMoF,UACjBxE,iBAAiB,IAEhBC,MAAK,SAACC,GACL,EAAKG,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8BuF,eAAc,QAE7CrE,OAAM,SAACC,GACNwB,QAAQC,IAAIzB,Q,yBAIlB,SAAYmD,GACV,MAAuBA,EAAElD,OAAlBC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,MACbX,KAAKM,SAAL,2BAAmBN,KAAKX,OAAxB,IAA+BoF,UAAU,2BAAKzE,KAAKX,MAAMoF,WAAjB,kBAA6B/D,EAAOC,S,oBAG9E,WAAU,IAAD,OACP,OACE,gCACGX,KAAKX,MAAMuF,cAAgB,cAAC,IAAD,CAAU/D,GAAG,aAAe,KACxD,wEACA,uBAAMC,SAAU,SAAC6C,GAAD,OAAK,EAAK5C,aAAa4C,IAAvC,UAEI,uBAAO3C,QAAQ,OAAf,oBACA,uBAAOC,KAAK,OAAOP,KAAK,OAAOQ,SAAU,SAACyC,GAAD,OAAO,EAAKxC,YAAYwC,MAEjE,uBAAO3C,QAAQ,QAAf,2BACA,uBAAOC,KAAK,OAAOP,KAAK,QAAQQ,SAAU,SAACyC,GAAD,OAAO,EAAKxC,YAAYwC,MAElE,uBAAO3C,QAAQ,cAAf,2BACA,uBAAOC,KAAK,OAAOP,KAAK,cAAcQ,SAAU,SAACyC,GAAD,OAAO,EAAKxC,YAAYwC,MAExE,0D,GAjEYzE,IAAMC,WC4Ef0F,E,4MA3EXxF,MAAM,CACJC,KAAM,CACJC,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLlC,SAAU,GACVoC,MAAO,GACPC,OAAO,IAEPiD,WAAW,GACXC,eAAe,GACf5B,QAAQ,G,uDAGZ,WAAoB,IAAD,OACX7D,EAAOU,KAAKI,MAAMd,KACxBM,IAAM,CACJC,OAAQ,MACRC,IAAK,2DACLG,iBAAiB,IAEhBC,MAAK,SAACC,GACL,IAAOsB,EAAWtB,EAAOJ,KAAlB0B,QACP,EAAKnB,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8B8D,QAAQ,EAAO2B,WAAYrD,EAASsD,eAAgBtD,EAASnC,aAE5FiB,OAAM,SAAC4B,GACNH,QAAQC,IAAIE,Q,2BAIlB,SAAcwB,GACZ,IAAOhD,EAASgD,EAAElD,OAAXE,MACDqE,EAAmBhF,KAAKX,MAAMyF,WAAWG,QAAO,SAAAC,GACpD,OAAOA,EAAOxE,KAAKyE,cAAcC,SAASzE,EAAMwE,kBAElDnF,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8B0F,eAAgBC,O,oBAIlD,WAAU,IAAD,OAGDK,EAFsBrF,KAAKX,MAAM0F,eAAeO,MAAK,SAACC,EAAEC,GAAH,OAAQD,EAAE7E,KAAK+E,cAAcD,EAAE9E,SACzC4E,MAAK,SAACC,EAAEC,GAAH,OAAQA,EAAEE,MAAMhC,OAAS6B,EAAEG,MAAMhC,UAC/CrB,KAAI,SAAC6C,EAAQ3C,GACnD,OAAO,sBAAiBxD,UAAU,QAA3B,UACG,qBAAKC,IAAKkG,EAAOtD,MAAO3C,IAAKiG,EAAOxE,OACpC,6BAAKwE,EAAOxE,OACZ,8BAAIwE,EAAOP,YAAYgB,MAAM,EAAG,IAAhC,SACA,4BAAG,8BAAIT,EAAOQ,MAAMhC,OAAjB,IAAmD,IAAxBwB,EAAOQ,MAAMhC,OAAiB,OAAW,aACvE,cAAC,IAAD,CAAM7C,GAAE,0BAAqBqE,EAAOxE,MAApC,SAA4C,yDALrC6B,MAQnB,OAAOvC,KAAKX,MAAM8D,OAChB,sBAAKpE,UAAU,aAAf,UACE,uBAAOkC,KAAK,OAAOC,SAAU,SAACyC,GAAD,OAAK,EAAKiC,cAAcjC,IAAIY,YAAY,sBAEnEc,EAAW3B,OAAS,EACpB,qBAAK3E,UAAU,iBAAf,SACKsG,IAEL,qBAAKtG,UAAU,cAAf,SACE,cAAC,EAAD,CAAWO,KAAMU,KAAKX,MAAMC,YAKlC,qBAAKP,UAAU,UAAf,SACE,sBAAKA,UAAU,WAAf,UAA0B,wBAAW,wBAAW,wBAAW,iC,GAtE1CG,IAAMC,WCyBhB0G,E,4JAzBX,WAAS,IAAD,OACJ,OAAO7F,KAAKI,MAAMQ,aACd,sBAAK7B,UAAU,SAAf,UACA,cAAC,IAAD,CAAM8B,GAAG,IAAT,SAAa,qBAAK7B,IAAI,6GAA6GC,IAAI,gBACnI,cAAC,IAAD,CAAM4B,GAAG,WAAT,SAAoB,+CACpB,cAAC,IAAD,CAAMA,GAAG,eAAT,SAAwB,+CACxB,wBAAO9B,UAAU,SAAjB,UACI,uBAAOkC,KAAK,WAAWC,SAAU,SAACyC,GAAD,OAAK,EAAKvD,MAAM0F,aAAanC,MAC9D,sBAAM5E,UAAU,uBAIxB,sBAAKA,UAAU,SAAf,UACA,cAAC,IAAD,CAAM8B,GAAG,IAAT,SAAa,qBAAK7B,IAAI,6GAA6GC,IAAI,gBACnI,cAAC,IAAD,CAAM4B,GAAG,SAAT,SAAkB,8CAClB,cAAC,IAAD,CAAMA,GAAG,UAAT,SAAmB,+CACnB,wBAAO9B,UAAU,SAAjB,UACI,uBAAOkC,KAAK,WAAWC,SAAU,SAACyC,GAAD,OAAK,EAAKvD,MAAM0F,aAAanC,MAC9D,sBAAM5E,UAAU,2B,GApBfG,IAAMC,WC2LZ4G,E,4MA1Lb1G,MAAQ,CACNC,KAAM,CACJC,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLlC,SAAU,GACVoC,MAAO,GACPC,OAAO,IAETqD,OAAQ,CACNxE,KAAM,GACNkB,MAAO,GACP+C,YAAa,GACbe,MAAO,GACPhE,IAAK,IAEPyB,QAAQ,EACR6C,OAAO,EACPC,aAAa,EACbC,YAAa,GACbC,cAAc,G,uDAGhB,WAAqB,IAAD,OAClBvG,IAAM,CACJC,OAAQ,MACRC,IAAI,wDAAD,OAA0DE,KAAKI,MAAMgG,MAAMC,OAAO3F,MACrFT,iBAAiB,IAEhBC,MAAK,SAACgF,GAEHtF,IAAM,CACFC,OAAQ,MACRC,IAAK,oDACLG,iBAAiB,IAEpBC,MAAK,SAAAZ,GACDA,EAAKS,KAAKI,OAAOsB,QAAQwD,QAAO,SAAAqB,GAAG,OAAGA,EAAI5F,OAASwE,EAAOnF,KAAKW,QAAMgD,OAAO,EAC7E,EAAKpD,SAAL,2BACK,EAAKjB,OADV,IAEE6F,OAAQA,EAAOnF,KACfT,KAAMA,EAAKS,KAAKI,OAChB+F,YAAahB,EAAOnF,KAAK2F,MACzBvC,QAAQ,EACR6C,OAAO,KAGT,EAAK1F,SAAL,2BACK,EAAKjB,OADV,IAEE6F,OAAQA,EAAOnF,KACfmG,YAAahB,EAAOnF,KAAK2F,MACzBpG,KAAMA,EAAKS,KAAKI,OAChBgD,QAAQ,WAKjB5C,OAAM,SAAC4B,GACNH,QAAQC,IAAIE,Q,4BAIlB,SAAeT,GAAK,IAAD,OACjB9B,IAAM,CACJC,OAAQ,OACRC,IAAK,+DACLC,KAAM,CAAC2B,MAAKgD,OAAQ1E,KAAKX,MAAMC,KAAKoC,KACpCzB,iBAAiB,IAElBC,MAAK,SAAAC,GACJ,EAAKG,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8BC,KAAMa,EAAOJ,KAAKT,KAAM4F,OAAQ/E,EAAOJ,KAAKmF,OAAQgB,YAAa/F,EAAOJ,KAAKmF,OAAOQ,MAAOM,OAAO,QAEjIzF,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,Q,iCAIhB,SAAoBkB,GAAK,IAAD,OACtB9B,IAAM,CACJC,OAAQ,OACRC,IAAK,oEACLC,KAAM,CAAC2B,MAAKgD,OAAQ1E,KAAKX,MAAMC,KAAKoC,KACpCzB,iBAAiB,IAElBC,MAAK,SAAAC,GACF,EAAKG,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8BC,KAAMa,EAAOJ,KAAKT,KAAM4F,OAAQ/E,EAAOJ,KAAKmF,OAAQgB,YAAa/F,EAAOJ,KAAKmF,OAAOQ,MAAOM,OAAO,QAEnIzF,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,Q,+BAIhB,SAAkB+F,GAAI,IAAD,OACnB3G,IAAM,CACJC,OAAQ,OACRC,IAAK,qDACLC,KAAM,CAACyG,UAAWxG,KAAKX,MAAMC,KAAKoC,IAAK+E,UAAWF,GAClDtG,iBAAiB,IAElBC,MAAK,SAAAC,GACJ,EAAKG,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8B4G,aAAa,QAE5C1F,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,Q,yBAIhB,SAAYmD,GACV,IAAOhD,EAASgD,EAAElD,OAAXE,MACDuF,EAAclG,KAAKX,MAAM6F,OAAOQ,MAAMT,QAAO,SAAA3F,GACjD,OAAOA,EAAKC,SAAS4F,cAAcC,SAASzE,EAAMwE,kBAEpDnF,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8B6G,YAAaA,O,6BAG7C,WAAkB,IAAD,OAEf,IAAqB,IADElG,KAAKX,MAArB8G,aACoB,CACzB,IAAMO,EAAgB1G,KAAKX,MAAM6F,OAAOQ,MAAMT,QAAO,SAAA3F,GACnD,OAAOA,EAAKiC,WAAa,EAAKlC,MAAMC,KAAKiC,YAE3CvB,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8B8G,cAAc,EAAMD,YAAaQ,UAE/D1G,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8B8G,cAAc,EAAOD,YAAalG,KAAKX,MAAM6F,OAAOQ,W,4BAItF,SAAenG,GAKb,OAJkBS,KAAKX,MAAMC,KAAtBkC,QACoByD,QAAO,SAAA0B,GAChC,OAAOA,EAAOpH,WAAaA,KAEXmE,OAAS,I,oBAG7B,WAAU,IAAD,OAEP,EAAsC1D,KAAKX,MAAM6F,OAA1CxE,EAAP,EAAOA,KAAKkB,EAAZ,EAAYA,MAAM+C,EAAlB,EAAkBA,YAAajD,EAA/B,EAA+BA,IAIzBkF,EAHgB5G,KAAKX,MAApB6G,YAC+BZ,MAAK,SAACC,EAAEC,GAAH,OAAQD,EAAEhG,SAASkG,cAAcD,EAAEjG,aACtC0F,QAAO,SAAA3F,GAAI,OAAEA,EAAKoC,MAAQ,EAAKrC,MAAMC,KAAKoC,OACnDW,KAAI,SAAC/C,EAAMiD,GACxC,OAAO,sBAAKxD,UAAU,SAAf,UACG,qBAAKC,IAAKM,EAAKsC,MAAO3C,IAAKK,EAAKC,SAAUiD,MAAO,CAACqE,MAAO,WACzD,6BAAKvH,EAAKC,WACT,EAAKuH,eAAexH,EAAKC,UAAY,wBAAQwH,UAAQ,EAAhB,6BAA4C,wBAAQ/D,QAAS,kBAAI,EAAKgE,kBAAkB1H,EAAKoC,MAAjD,mCAHxDa,MAMtC,OAAOvC,KAAKX,MAAM8D,OAChB,sBAAKpE,UAAU,gBAAf,UACE,6BAAK2B,IACL,uBACA,sBAAK3B,UAAU,kBAAf,UACA,qBAAKC,IAAK4C,EAAO3C,IAAKyB,IAEtB,4BAAIiE,IACH3E,KAAKX,MAAM2G,MACR,wBAAQhD,QAAS,kBAAI,EAAKiE,oBAAoBvF,IAA9C,oCAEA,wBAAQsB,QAAS,kBAAI,EAAKkE,eAAexF,IAAzC,+BAEJ,gCACA,uBAAO3C,UAAU,cAAckC,KAAK,OAAOC,SAAU,SAACyC,GAAD,OAAK,EAAKwD,YAAYxD,IAAIY,YAAY,oBAC3F,sBAAKxF,UAAU,UAAf,UACI,uBAAOkC,KAAK,WAAWC,SAAU,kBAAI,EAAKkG,qBAC1C,qDAGJ,8BACKR,aAOP,qBAAK7H,UAAU,UAAf,SACE,sBAAKA,UAAU,WAAf,UAA0B,wBAAW,wBAAW,wBAAW,iC,GArLvCG,IAAMC,WCoHnBkI,E,4MAlHXhI,MAAQ,CACNC,KAAM,CACJC,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLlC,SAAU,GACVoC,MAAO,GACPC,OAAO,IAEP8E,OAAQ,CACNpH,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLE,MAAO,GACPC,OAAO,IAETsB,QAAQ,EACRK,SAAS,G,uDAGb,WAAoB,IAAD,OACf5D,IAAM,CACJC,OAAQ,MACRC,IAAI,uDAAD,OAAyDE,KAAKI,MAAMgG,MAAMC,OAAOE,IACpFtG,iBAAiB,IAElBC,MAAK,SAAAC,GACF,IAAMsD,EAAS,eAAO,EAAKpE,OAC3BoE,EAAUkD,OAASxG,EAAOJ,KAAKI,OAC/BsD,EAAUnE,KAAO,EAAKc,MAAMd,KAC5BmE,EAAUN,QAAS,EACnB,EAAK7C,SAASmD,MAEjBlD,OAAM,SAAAC,GACHwB,QAAQC,IAAIzB,Q,0BAIlB,SAAa8G,GAAU,IAAD,OACpB1H,IAAM,CACJC,OAAQ,OACRC,IAAK,sDACLC,KAAM,CAACyG,UAAUxG,KAAKX,MAAMC,KAAKoC,IAAK+E,UAAUa,GAChDrH,iBAAiB,IAElBC,MAAK,SAAAC,GACJ,EAAKG,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8BmE,SAAS,QAExCjD,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,Q,oBAIlB,WAAS,IAED+G,EAFA,OACJ,EAAqEvH,KAAKX,MAAMsH,OAAzEjF,EAAP,EAAOA,IAAKnC,EAAZ,EAAYA,SAAUiC,EAAtB,EAAsBA,QAASI,EAA/B,EAA+BA,MAAOH,EAAtC,EAAsCA,QAAQI,EAA9C,EAA8CA,OAAOP,EAArD,EAAqDA,IAAIC,EAAzD,EAAyDA,SAazD,OAXIvB,KAAKX,MAAM8D,SACboE,EAAc9F,EAAQY,KAAI,SAAC6C,EAAQ3C,GACjC,OACI,+BACE,qBAAKvD,IAAKkG,EAAOtD,MAAO3C,IAAG,UAAKiG,EAAOxE,KAAZ,SAAyB8B,MAAO,CAACqE,MAAO,WAClE3B,EAAOxE,KACR,cAAC,IAAD,CAAMG,GAAE,0BAAqBqE,EAAOxE,MAApC,SAA4C,qDAHrC6B,OAQVvC,KAAKX,MAAMmE,QAAU,cAAC,IAAD,CAAU3C,GAAG,aAAgBb,KAAKX,MAAM8D,OAClE,sBAAKpE,UAAU,UAAf,UACE,qBAAKC,IAAK4C,EAAO3C,IAAG,4BAAuBM,KAE3C,sBAAKR,UAAU,OAAf,UACE,+BAAKQ,EAAL,cACA,oBAAGR,UAAU,cAAb,UACE,wCADF,IACkB8C,KAElB,oBAAG9C,UAAU,gBAAb,UACE,0CADF,IACoBwC,KAEpB,8BACE,qCADF,IACeD,KAEf,8BACGE,EAAQkC,OADX,iBAIF,sBAAK3E,UAAU,eAAf,UACE,cAAC,IAAD,CAAM8B,GAAE,gBAAWa,GAAnB,SAA0B,4CAC1B,wBAAQsB,QAAS,kBAAI,EAAKwE,aAAa9F,IAAvC,8BAGmB,IAAnBD,EAAQiC,OACN,gCACI,yCACA,6BAAK6D,OAGT,kDAIN,qBAAKxI,UAAU,UAAf,SACE,sBAAKA,UAAU,WAAf,UAA0B,wBAAW,wBAAW,wBAAW,iC,GA7G3CG,IAAMC,WC4JnBsI,E,4MA1JXpI,MAAM,CACFC,KAAK,GACL8D,SAAU,GACVsE,cAAe,GACfvE,QAAO,G,uDAGX,WAAoB,IAAD,OACnBvD,IAAM,CACJC,OAAQ,MACRC,IAAK,oDACLG,iBAAiB,IAElBC,MAAK,SAAAC,GACJP,IAAM,CACJC,OAAQ,OACRC,IAAK,qDACLC,KAAM,CAAC2B,IAAKvB,EAAOJ,KAAKI,OAAOuB,KAC/BzB,iBAAiB,IAElBC,MAAK,SAAAkD,GACJ,IAAMK,EAAS,eAAO,EAAKpE,OAC3BoE,EAAUnE,KAAOa,EAAOJ,KAAKI,OAC7BsD,EAAUiE,cAAgBvH,EAAOJ,KAAKI,OAAOqB,QAC7CiC,EAAUL,SAAWA,EAASrD,KAC9B0D,EAAUN,QAAS,EACnB,EAAK7C,SAASmD,SAGjBlD,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,Q,qCAId,WAA0B,IAAD,OACrBZ,IAAM,CACNC,OAAQ,MACRC,IAAK,oDACLG,iBAAiB,IAEhBC,MAAK,SAAAC,GACJP,IAAM,CACJC,OAAQ,OACRC,IAAK,qDACLC,KAAM,CAAC2B,IAAKvB,EAAOJ,KAAKI,OAAOuB,KAC/BzB,iBAAiB,IAElBC,MAAK,SAAAkD,GACJ,IAAMK,EAAS,eAAO,EAAKpE,OAC3BoE,EAAUnE,KAAOa,EAAOJ,KAAKI,OAC7BsD,EAAUiE,cAAgBvH,EAAOJ,KAAKI,OAAOqB,QAC7CiC,EAAUL,SAAWA,EAASrD,KAC9B0D,EAAUN,QAAS,EACnB,EAAK7C,SAASmD,SAGjBlD,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,Q,iCAKlB,SAAoBmH,EAAaC,GAAO,IAAD,OACnChI,IAAM,CACJC,OAAQ,OACRC,IAAK,uDACLC,KAAM,CAAC2B,IAAIkG,EAAOpB,UAAUmB,EAAalB,UAAWzG,KAAKX,MAAMC,KAAKoC,KACpEzB,iBAAiB,IAElBC,MAAK,SAAAC,GACJ,EAAK0H,6BAENtH,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,Q,iCAIhB,SAAoBmH,EAAaC,GAAO,IAAD,OACrChI,IAAM,CACJC,OAAQ,OACRC,IAAK,uDACLC,KAAM,CAAC2B,IAAIkG,EAAOpB,UAAUmB,EAAalB,UAAWzG,KAAKX,MAAMC,KAAKoC,KACpEzB,iBAAiB,IAElBC,MAAK,SAAAC,GACF,EAAK0H,6BAERtH,OAAM,SAAAC,GACLwB,QAAQC,IAAIzB,Q,2BAIhB,SAAcmD,GACZ,IAAOhD,EAASgD,EAAElD,OAAXE,MACDmH,EAAkB9H,KAAKX,MAAMC,KAAKkC,QAAQyD,QAAO,SAAC0B,GACtD,OAAOA,EAAOpH,SAAS4F,cAAcC,SAASzE,EAAMwE,kBAEtDnF,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8BqI,cAAeI,O,oBAGjD,WAAS,IAIDC,EAAYC,EAJZ,OACGxG,EAAWxB,KAAKX,MAAMC,KAAtBkC,QACAkG,EAAiB1H,KAAKX,MAAtBqI,cACAtE,EAAYpD,KAAKX,MAAjB+D,SA0BP,OAxBIpD,KAAKX,MAAM8D,SACX4E,EAAaL,EAAcrF,KAAI,SAACsE,EAAQpE,GACpC,OACA,sBAAiBxD,UAAU,SAA3B,UACI,qBAAKC,IAAK2H,EAAO/E,MAAO3C,IAAG,UAAK0H,EAAOpH,SAAZ,WAC3B,4BAAIoH,EAAOpH,WACX,cAAC,IAAD,CAAMsB,GAAE,yBAAoB8F,EAAOjF,KAAnC,SAA0C,qDAHpCa,MAOdyF,EAAiB5E,EAASf,KAAI,SAAC4F,EAAK1F,GAChC,OACA,sBAAiBxD,UAAU,SAA3B,UACI,qBAAKC,IAAKiJ,EAAIzB,UAAU5E,MAAO3C,IAAKgJ,EAAIzB,UAAUjH,WAClD,4BAAI0I,EAAIzB,UAAUjH,WAClB,sBAAKR,UAAU,qBAAf,UACE,wBAAQiE,QAAS,kBAAI,EAAKkF,oBAAoBD,EAAIzB,UAAU9E,IAAKuG,EAAIvG,MAArE,oBACA,wBAAQsB,QAAS,kBAAI,EAAKmF,oBAAoBF,EAAIzB,UAAU9E,IAAKuG,EAAIvG,MAArE,yBALIa,OAYXvC,KAAKX,MAAM8D,OACd,sBAAKpE,UAAU,YAAf,UAEI,cAAC,EAAD,IAEA,sBAAKA,UAAU,cAAf,UACE,0CACiC,IAA/BiB,KAAKX,MAAM+D,SAASM,OAAgB,8BAAMsE,IAAwB,sEAGtE,sBAAKjJ,UAAU,aAAf,UACE,yCACA,uBAAOkC,KAAK,OAAOC,SAAU,SAACyC,GAAD,OAAK,EAAKyE,cAAczE,IAAIY,YAAY,qBAChD,IAAnB/C,EAAQkC,OAAgB,qBAAK3E,UAAU,kBAAf,SAAkCgJ,IAAoB,iEAMxF,qBAAKhJ,UAAU,UAAf,SACE,sBAAKA,UAAU,WAAf,UAA0B,wBAAW,wBAAW,wBAAW,iC,GAtJ/CG,IAAMC,WC0EfkJ,E,4MAtEXhJ,MAAQ,CACJC,KAAM,CACJC,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLlC,SAAU,GACVoC,MAAO,GACPC,OAAO,IAETsB,QAAQ,G,uDAGZ,WAAoB,IAAD,OACfvD,IAAM,CACFC,OAAQ,MACRC,IAAK,oDACLG,iBAAiB,IAEpBC,MAAK,SAAAC,GACF,IAAMsD,EAAS,eAAO,EAAKpE,OAC3BoE,EAAUnE,KAAOa,EAAOJ,KAAKI,OAC7BsD,EAAUN,QAAS,EACnB,EAAK7C,SAASmD,MAEjBlD,OAAM,SAAAC,GACHwB,QAAQC,IAAIzB,Q,oBAIpB,WACI,IAAI+G,EAaJ,OAZGvH,KAAKX,MAAM8D,SACVoE,EAAcvH,KAAKX,MAAMC,KAAKmC,QAAQY,KAAI,SAAC6C,EAAQ3C,GAC/C,OACE,qBAAgBxD,UAAU,QAA1B,UACE,qBAAKC,IAAKkG,EAAOtD,MAAO3C,IAAG,UAAKiG,EAAOxE,KAAZ,WAC1BwE,EAAOxE,KACR,cAAC,IAAD,CAAMG,GAAE,0BAAqBqE,EAAOxE,MAApC,SAA4C,qDAHrC6B,OASZvC,KAAKX,MAAM8D,OACd,sBAAKpE,UAAU,YAAf,UACI,cAAC,EAAD,IACA,4CACoC,IAAnCiB,KAAKX,MAAMC,KAAKmC,QAAQiC,OAErB,6BACK6D,IAGL,gCACI,sEACA,cAAC,IAAD,CAAM1G,GAAG,eAAT,gCAMZ,qBAAK9B,UAAU,UAAf,SACI,sBAAKA,UAAU,WAAf,UAA0B,wBAAW,wBAAW,wBAAW,iC,GAnEnDG,IAAMC,WCiFfmJ,E,4MAjFXjJ,MAAM,CACFC,KAAK,GACL6D,QAAO,EACPoF,MAAM,GACNC,YAAa,I,uDAGjB,WAAoB,IAAD,OACf5I,IAAM,CACFC,OAAQ,MACRC,IAAK,yDACLG,iBAAiB,IAEpBC,MAAK,SAACC,GACHP,IAAM,CACFC,OAAQ,MACRC,IAAK,oDACLG,iBAAiB,IAEpBC,MAAK,SAACZ,GACH,IAAMmE,EAAS,eAAO,EAAKpE,OAC3BoE,EAAU8E,MAAQpI,EAAOJ,KACzB0D,EAAU+E,YAAcrI,EAAOJ,KAC/B0D,EAAUnE,KAAOA,EAAKS,KAAKI,OAC3BsD,EAAUN,QAAS,EACnB,EAAK7C,SAASmD,SAEnBlD,OAAM,SAAC4B,GACNH,QAAQC,IAAIE,Q,yBAIpB,SAAYwB,GAAG,IAAD,OACHhD,EAASgD,EAAElD,OAAXE,MACD8H,EAAgBzI,KAAKX,MAAMkJ,MAAMtD,QAAO,SAACyD,EAAMnG,GAEnD,OADemG,EAAKC,aAAa1D,QAAO,SAAA2D,GAAW,OAAIA,EAAYlH,MAAQ,EAAKrC,MAAMC,KAAKoC,OAAK,GAClFnC,SAAS4F,cAAcC,SAASzE,EAAMwE,kBAEtDnF,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8BmJ,YAAaC,O,oBAG/C,WAAS,IACDI,EADA,OAuBJ,OArBI7I,KAAKX,MAAM8D,SACf0F,EAAW7I,KAAKX,MAAMmJ,YAAYnG,KAAI,SAACqG,EAAMnG,GAEzC,IAAMoE,EAAS+B,EAAKC,aAAa1D,QAAO,SAAA2D,GAAW,OAAIA,EAAYlH,MAAQ,EAAKrC,MAAMC,KAAKoC,OAAK,GAE1FoH,EAAaJ,EAAKK,SAAS9D,QAAO,SAAA/C,GAAO,MAAsB,WAAnBA,EAAQL,QAAuBK,EAAQ3C,WAAa,EAAKF,MAAMC,KAAKC,YAGtH,OACI,cAAC,IAAD,CAAMsB,GAAE,gBAAW8F,EAAOjF,KAA1B,SACI,sBAAK3C,UAAU,SAAf,UACI,qBAAKC,IAAK2H,EAAO/E,MAAO3C,IAAK0H,EAAOpH,WACpC,gCACI,4BAAG,+CAAkBoH,EAAOpH,cAC5B,kDAAqBuJ,EAAWpF,iBALNnB,OAYvCvC,KAAKX,MAAM8D,OACd,sBAAKpE,UAAU,WAAf,UACI,cAAC,EAAD,IACA,0CACA,uBAAOkC,KAAK,OAAOC,SAAU,SAACyC,GAAD,OAAK,EAAKqF,YAAYrF,MACnD,qBAAK5E,UAAU,gBAAf,SACI8J,OAKR,qBAAK9J,UAAU,UAAf,SACI,sBAAKA,UAAU,WAAf,UAA0B,wBAAW,wBAAW,wBAAW,iC,GA7EpDG,IAAMC,WdiJd8J,E,4MAjJX5J,MAAM,CACFqJ,KAAK,CACDC,aAAa,GACbI,SAAS,IAEbpC,OAAQ,GACRzE,QAAS,GACTiB,QAAO,G,EA+ET+F,eAAiB,WACf,EAAKC,YAAYC,eAAe,CAAEC,SAAU,Y,uDA7EhD,WAAoB,IAAD,OACdzJ,IAAM,CACFC,OAAQ,MACRC,IAAI,qDAAD,OAAuDE,KAAKI,MAAMgG,MAAMC,OAAO3E,KAClFzB,iBAAiB,IAElBC,MAAK,SAAAC,GACF,IAAMsD,EAAS,eAAO,EAAKpE,OAC3BoE,EAAUiF,KAAOvI,EAAOJ,KACxB0D,EAAUN,QAAS,EACnBM,EAAUkD,OAASxG,EAAOJ,KAAK4I,aAAa1D,QAAO,SAAA2D,GAAW,OAAGA,EAAYlH,MAAQ,EAAKtB,MAAMd,KAAKoC,OAAM,GAC3G,EAAKpB,SAASmD,GACd,EAAK6F,UAAUC,QACf,EAAKL,iBACL,EAAKM,eAERjJ,OAAM,SAAAC,GACHwB,QAAQC,IAAIzB,Q,uBAItB,WAAY,IAAD,OACJ3B,EAAQ4K,aAAY,WACpB7J,IAAM,CACFC,OAAQ,MACRC,IAAI,qDAAD,OAAuD,EAAKM,MAAMgG,MAAMC,OAAO3E,KAClFzB,iBAAiB,IAElBC,MAAK,SAAAC,GACF,IAAMsD,EAAS,eAAO,EAAKpE,OAC3BoE,EAAUiF,KAAOvI,EAAOJ,KACrB,EAAKV,MAAMqJ,KAAKK,SAASrF,SAAWvD,EAAOJ,KAAKgJ,SAASrF,SAC1D,EAAKpD,SAASmD,GACd,EAAKyF,qBAGV3I,OAAM,SAAAC,GACHwB,QAAQC,IAAIzB,QAElB,Q,kCAGP,WACGkJ,cAAc7K,K,yBAGhB,SAAY8E,GACV,IAAOhD,EAASgD,EAAElD,OAAXE,MACPX,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8B6C,QAASvB,O,yBAGzC,SAAYgD,GAAG,IAAD,OACZA,EAAEhE,iBACA,IAAOuC,EAAWlC,KAAKX,MAAhB6C,QACP,GAAgB,KAAZA,EACA,OAAO,KAETtC,IAAM,CACFC,OAAQ,OACRC,IAAI,kDAAD,OAAoDE,KAAKI,MAAMgG,MAAMC,OAAO3E,KAC/E3B,KAAM,CACFmC,QAASA,EACTyH,KAAM,IAAIC,KACVrK,SAAUS,KAAKI,MAAMd,KAAKC,UAE9BU,iBAAiB,IAEpBC,MAAK,SAAAC,GACF,EAAKG,SAAL,2BAAkB,EAAKjB,OAAvB,IAA8B6C,QAAS,SAE1C3B,OAAM,SAAAC,GACHwB,QAAQC,IAAIzB,Q,yBAStB,SAAYqJ,GACV,IAAMC,EAAUD,EAAKE,MAAM,KACrBJ,EAAOG,EAAQ,GAAGC,MAAM,KAC9B,MAAM,GAAN,OAAUD,EAAQ,GAAGnE,MAAM,EAAE,GAA7B,cAAqCgE,EAAK,GAA1C,YAAgDA,EAAK,M,oBAGzD,WAAS,IACDZ,EADA,OAqBJ,OAnBG/I,KAAKX,MAAM8D,SACV4F,EAAW/I,KAAKX,MAAMqJ,KAAKK,SAAS1G,KAAI,SAACH,EAAQK,GAC7C,OAAOL,EAAQ3C,WAAa,EAAKa,MAAMd,KAAKC,SACxC,qBAAiBR,UAAU,cAA3B,SACI,gCACI,4BAAImD,EAAQA,UACZ,4BAAI,EAAK8H,YAAY9H,EAAQyH,YAH3BpH,GAOV,qBAAiBxD,UAAU,gBAA3B,SACI,gCACI,4BAAImD,EAAQA,UACZ,4BAAI,EAAK8H,YAAY9H,EAAQyH,YAH3BpH,OASfvC,KAAKX,MAAM8D,OACd,sBAAKpE,UAAU,OAAf,UACI,sBAAKA,UAAU,MAAf,UACI,sBAAKA,UAAU,QAAf,UACI,qBAAKC,IAAKgB,KAAKX,MAAMsH,OAAO/E,MAAO3C,IAAKe,KAAKX,MAAMsH,OAAOpH,WAC1D,6BAAKS,KAAKX,MAAMsH,OAAOpH,cAE3B,cAAC,IAAD,CAAMsB,GAAG,YAAT,SAAqB,oDAEzB,sBAAK9B,UAAU,UAAf,UACKgK,EACD,qBACAkB,IAAK,SAACC,GAAS,EAAKf,YAAce,QAEtC,8BACI,uBAAMC,OAAO,GAAb,UACI,uBAAOlJ,KAAK,OAAOP,KAAK,UAAUuJ,IAAK,SAACG,GAAY,EAAKd,UAAYc,GAAUzJ,MAAOX,KAAKX,MAAM6C,QAAShB,SAAU,SAACyC,GAAD,OAAK,EAAKxC,YAAYwC,IAAIvC,aAAa,QAC3J,wBAAQ4B,QAAS,SAACW,GAAD,OAAK,EAAK0G,YAAY1G,IAAvC,0BAKZ,qBAAK5E,UAAU,UAAf,SACI,sBAAKA,UAAU,WAAf,UAA0B,wBAAW,wBAAW,wBAAW,iC,GA7IxDG,IAAMC,WemIVmL,E,4MApHbjL,MAAQ,CACNC,KAAM,CACJC,SAAU,GACV+B,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,IAAK,GACLlC,SAAU,GACVoC,MAAO,GACPC,OAAO,IAETjB,cAAc,EACd2J,MAAO,Q,gDAGT,WAC2B,UAArBvK,KAAKX,MAAMkL,MACbvK,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8BkL,MAAO,UAErCvK,KAAKM,SAAL,2BAAkBN,KAAKX,OAAvB,IAA8BkL,MAAO,a,gCAKzC,SAAmBC,GACjB,IAAM/G,EAAS,eAAQzD,KAAKX,OAC5BoE,EAAUnE,KAAOkL,EACjB/G,EAAU7C,cAAe,EACzBZ,KAAKM,SAASmD,K,iCAGhB,WACE,IAAMA,EAAS,eAAQzD,KAAKX,OAC5BoE,EAAUnE,KAAO,GACjBmE,EAAU7C,cAAe,EACzBZ,KAAKM,SAASmD,K,oBAGhB,WAAU,IAAD,OACP,OACE,sBAAK1E,UAAS,cAASiB,KAAKX,MAAMkL,OAAlC,UACE,cAAC,EAAD,CAAQ3J,aAAcZ,KAAKX,MAAMuB,aAAckF,aAAc,kBAAI,EAAK2E,gBACtE,eAAC,IAAD,WACE,cAAC,IAAD,CACEC,KAAK,IACLC,OAAK,EACLC,UAAW,kBAAM,cAAC,EAAD,OAEnB,cAAC,IAAD,CACEF,KAAK,WACLC,OAAK,EACLC,UAAW,kBAAM,cAAC,EAAD,CAAShK,aAAc,EAAKvB,MAAMuB,aAAcP,YAAa,kBAAI,EAAKwK,4BAEzF,cAAC,IAAD,CACEH,KAAK,SACLC,OAAK,EACLC,UAAW,kBACT,cAAC,EAAD,CACEvK,YAAa,SAACmK,GAAD,OAAU,EAAKM,mBAAmBN,IAC/C5J,aAAc,EAAKvB,MAAMuB,kBAI/B,cAAC,IAAD,CAAO8J,KAAK,UAAUC,OAAK,EAACC,UAAW,kBAAM,cAAC,EAAD,OAC7C,cAAC,IAAD,CACEF,KAAK,aACLC,OAAK,EACLC,UAAW,kBAAM,cAAC,EAAD,CAAUtL,KAAM,EAAKD,MAAMC,UAE9C,cAAC,IAAD,CACEoL,KAAK,eACLC,OAAK,EACLC,UAAW,kBAAM,cAAC,EAAD,CAAYtL,KAAM,EAAKD,MAAMC,UAEhD,cAAC,IAAD,CACEoL,KAAK,eACLC,OAAK,EACLC,UAAW,kBAAM,cAAC,EAAD,CAAWtL,KAAM,EAAKD,MAAMC,UAE/C,cAAC,IAAD,CACEoL,KAAK,wBACLC,OAAK,EACLC,UAAW,SAACG,GAAD,OAAgB,cAAC,EAAD,eAAmBA,OAEhD,cAAC,IAAD,CACEL,KAAK,qBACLC,OAAK,EACLC,UAAW,SAACG,GAAD,OAAgB,cAAC,EAAD,2BAAmBA,GAAnB,IAA+BzL,KAAM,EAAKD,MAAMC,WAE5E,cAAC,IAAD,CACCoL,KAAK,cACLC,OAAK,EACLC,UAAW,kBAAM,cAAC,EAAD,OAElB,cAAC,IAAD,CACCF,KAAK,cACLC,OAAK,EACLC,UAAW,kBAAM,cAAC,EAAD,OAElB,cAAC,IAAD,CACCF,KAAK,YACLC,OAAK,EACLC,UAAW,kBAAM,cAAC,EAAD,OAEnB,cAAC,IAAD,CACEF,KAAK,aACLC,OAAK,EACLC,UAAW,SAACG,GAAD,OAAgB,cAAC,EAAD,2BAAUA,GAAV,IAAsBzL,KAAM,EAAKD,MAAMC,qB,GA7G5DJ,IAAMC,WCbxB6L,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.e799e178.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nlet check\r\n\r\nclass Chat extends React.Component {\r\n    state={\r\n        chat:{\r\n            participants:[],\r\n            messages:[],\r\n        },\r\n        friend: {},\r\n        message: '',\r\n        loaded:false\r\n    }\r\n    \r\n    componentDidMount(){\r\n         axios({\r\n             method: \"get\",\r\n             url: `https://phobbies-app.herokuapp.com/sv/return-chat/${this.props.match.params._id}`,\r\n             withCredentials: true\r\n           })\r\n           .then(result => {\r\n               const stateCopy = {...this.state}\r\n               stateCopy.chat = result.data\r\n               stateCopy.loaded = true\r\n               stateCopy.friend = result.data.participants.filter(participant=>(participant._id !== this.props.user._id))[0]\r\n               this.setState(stateCopy)\r\n               this.nameInput.focus();\r\n               this.scrollToBottom();\r\n               this.chatCheck()\r\n           })\r\n           .catch(error => {\r\n               console.log(error)\r\n           })  \r\n    }\r\n    \r\n     chatCheck(){\r\n            check = setInterval(() => {\r\n            axios({\r\n                method: \"get\",\r\n                url: `https://phobbies-app.herokuapp.com/sv/return-chat/${this.props.match.params._id}`,\r\n                withCredentials: true\r\n              })\r\n              .then(result => {\r\n                  const stateCopy = {...this.state}\r\n                  stateCopy.chat = result.data\r\n                  if(this.state.chat.messages.length !== result.data.messages.length){\r\n                    this.setState(stateCopy)\r\n                    this.scrollToBottom();\r\n                    }\r\n              })\r\n              .catch(error => {\r\n                  console.log(error)\r\n              })  \r\n         }, 1500);\r\n     }\r\n\r\n     componentWillUnmount(){\r\n        clearInterval(check)\r\n     }\r\n\r\n      handleInput(e){\r\n        const {value} = e.target\r\n        this.setState({...this.state, message: value})\r\n      }\r\n\r\n      sendMessage(e){\r\n        e.preventDefault()\r\n          const {message} = this.state\r\n          if (message === \"\"){\r\n              return null\r\n          }else{\r\n            axios({\r\n                method: 'post',\r\n                url: `https://phobbies-app.herokuapp.com/sv/send-msg/${this.props.match.params._id}`,\r\n                data: {\r\n                    message: message,\r\n                    date: new Date(),\r\n                    username: this.props.user.username\r\n                },\r\n                withCredentials: true\r\n            })\r\n            .then(result => {\r\n                this.setState({...this.state, message: \"\"})\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n          }\r\n      }\r\n\r\n      scrollToBottom = () => {\r\n        this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n      }\r\n\r\n      displayTime(time){\r\n        const timeArr = time.split(\"T\")\r\n        const date = timeArr[0].split(\"-\")\r\n        return `${timeArr[1].slice(0,5)} - ${date[2]}/${date[1]}`\r\n      }\r\n      \r\n    render(){\r\n        let messages\r\n        if(this.state.loaded){\r\n            messages = this.state.chat.messages.map((message,index)=>{\r\n                return message.username === this.props.user.username ? (\r\n                    <div key={index} className=\"userMessage\">\r\n                        <div>\r\n                            <p>{message.message}</p>\r\n                            <i>{this.displayTime(message.date)}</i>\r\n                        </div>\r\n                    </div> \r\n                ) : (\r\n                    <div key={index} className=\"friendMessage\">\r\n                        <div>\r\n                            <p>{message.message}</p>\r\n                            <i>{this.displayTime(message.date)}</i>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n        return this.state.loaded ? (\r\n            <div className=\"Chat\">\r\n                <div className=\"bar\">\r\n                    <div className=\"photo\">\r\n                        <img src={this.state.friend.photo} alt={this.state.friend.username} />\r\n                        <h3>{this.state.friend.username}</h3>\r\n                    </div>\r\n                    <Link to=\"/my-chats\"><button>All chats</button></Link>\r\n                </div>\r\n                <div className=\"chatBox\">\r\n                    {messages}\r\n                    <div\r\n                    ref={(el) => { this.messagesEnd = el; }}></div>\r\n                </div>\r\n                <div>\r\n                    <form action=\"\">\r\n                        <input type=\"text\" name=\"message\" ref={(input) => { this.nameInput = input; }} value={this.state.message} onChange={(e)=>this.handleInput(e)} autoComplete=\"off\"/>\r\n                        <button onClick={(e)=>this.sendMessage(e)}>Send</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        ) : (\r\n            <div className=\"spinner\">\r\n                <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Chat;","import React from \"react\";\r\n\r\n\r\nclass Home extends React.Component {\r\n    render(){\r\n        return(\r\n            <div className=\"Home\">\r\n                <img src=\"https://res.cloudinary.com/hobbiesphere/image/upload/v1621265972/Logo_Phobbie_completo_negro_unzt25.png\" alt=\"Logo\" />\r\n                <h1>Welcome to Phobbie!!</h1>\r\n                <hr />\r\n                <div>\r\n                    Phobbie is a place to connect with other people with your same hobbies. It was first developed as a final project for a Web Developer Bootcamp but we hope you like it and give it a try. <span>😉</span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Home;","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    user: {\r\n      username: \"\",\r\n      password: \"\",\r\n    },\r\n    errorMsg: false\r\n  };\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    axios({\r\n      method: \"post\",\r\n      url: \"https://phobbies-app.herokuapp.com/sv/login\",\r\n      data: this.state.user,\r\n      withCredentials: true\r\n    })\r\n      .then((result) => {\r\n        if(result.data.user){\r\n          this.props.setAppState(result.data.user);\r\n        }else{\r\n          this.setState({...this.state, errorMsg: true})\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({...this.state, errorMsg: true})\r\n      });\r\n  }\r\n\r\n  handleInput(event) {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      ...this.state,\r\n      user: { ...this.state.user, [name]: value },\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return this.props.logInSuccess ? (\r\n      <Redirect to=\"/profile\" />\r\n    ) : (\r\n      <div className=\"Login\">\r\n        <h1>Login</h1>\r\n        <form onSubmit={(event) => this.handleSubmit(event)}>\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            onChange={(event) => this.handleInput(event)}\r\n            autoComplete=\"off\"\r\n          />\r\n\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={(event) => this.handleInput(event)}\r\n            autoComplete=\"off\"\r\n          />\r\n\r\n          <button>Log in</button>\r\n\r\n          {this.state.errorMsg ? <p className=\"error-message\">Wrong credentials. Try again.</p> : null}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Login;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Signup extends React.Component {\r\n  state = {\r\n    user: {\r\n      username: \"\",\r\n      age: '',\r\n      location: '',\r\n      friends: [],\r\n      hobbies: [],\r\n      _id: \"\",\r\n      password: \"\",\r\n      passwordConfirm:\"\",\r\n      photo: '',\r\n      status:''\r\n    },\r\n    successSignUp: false,\r\n    errorMessage: false,\r\n    errorMsg: '',\r\n  };\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    axios({\r\n      method: \"post\",\r\n      url: \"https://phobbies-app.herokuapp.com/sv/signup\",\r\n      data: this.state.user,\r\n      withCredentials: true\r\n    })\r\n      .then((result) => {\r\n        console.log('then',result.data)\r\n        if (result.data.message === \"User created\") {\r\n          this.setState({ ...this.state, successSignUp: true });\r\n        } else {\r\n          this.setState({ ...this.state, errorMessage: true, errorMsg: result.data.message });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log('catch', err)\r\n        this.setState({ ...this.state, errorMessage: true, errorMsg: err.message });\r\n      });\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { value, name } = event.target;\r\n    this.setState({\r\n      ...this.state,\r\n      user: { ...this.state.user, [name]: value },\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const provincias = ['Alava','Albacete','Alicante','Almería','Asturias','Avila','Badajoz','Barcelona','Burgos','Cáceres',\r\n    'Cádiz','Cantabria','Castellón','Ciudad Real','Córdoba','La Coruña','Cuenca','Gerona','Granada','Guadalajara',\r\n    'Guipúzcoa','Huelva','Huesca','Islas Baleares','Jaén','León','Lérida','Lugo','Madrid','Málaga','Murcia','Navarra',\r\n    'Orense','Palencia','Las Palmas','Pontevedra','La Rioja','Salamanca','Segovia','Sevilla','Soria','Tarragona',\r\n    'Tenerife','Teruel','Toledo','Valencia','Valladolid','Vizcaya','Zamora','Zaragoza']\r\n\r\n    const allOptions=provincias.map((provincia, index)=>{return(<option key={index} style={{textAlign:\"center\", border:\"1px solid black\"}}>{provincia}</option>)})\r\n\r\n    return this.state.successSignUp ? (\r\n      <Redirect to=\"/login\" />\r\n    ) : (\r\n      <div className=\"Signup\">\r\n        <h1>Sign up</h1>\r\n        <form onSubmit={(event) => this.handleSubmit(event)}>\r\n          <label htmlFor=\"username\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            onChange={(event) => this.handleChange(event)}\r\n            autoComplete=\"off\"\r\n          />\r\n\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={(event) => this.handleChange(event)}\r\n            autoComplete=\"off\"\r\n          />\r\n\r\n          <label htmlFor=\"passwordConfirm\">Confirm Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"passwordConfirm\"\r\n            onChange={(event) => this.handleChange(event)}\r\n            autoComplete=\"off\"\r\n          />\r\n\r\n          <label htmlFor=\"age\">Age</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"age\"\r\n            onChange={(event) => this.handleChange(event)}\r\n            autoComplete=\"off\"\r\n          />\r\n\r\n          <label htmlFor=\"location\">Location</label>\r\n          <select name=\"location\" onChange={(event) => this.handleChange(event)} defaultValue=\"Choose your location...\">\r\n          <option value=\"\"  hidden>Choose your location...</option>\r\n            {allOptions}\r\n          </select>\r\n\r\n          <button>Sign up</button>\r\n          \r\n        </form>\r\n        {this.state.errorMessage ? <p className=\"error-message\">{this.state.errorMsg}</p> : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Signup;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from 'axios'\r\n\r\nclass ProfileNavbar extends React.Component {\r\n\r\n    \r\n    state = {\r\n        loggedout: false\r\n    }\r\n\r\n    logout(){\r\n        axios({\r\n            method: 'get',\r\n            url: \"https://phobbies-app.herokuapp.com/sv/logout\",\r\n            withCredentials: true\r\n        })\r\n        .then(result => {\r\n            this.props.setAppState()\r\n            this.setState({loggedout: true})\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"ProfileNavbar\">\r\n                <Link to=\"/Profile\"><button>Profile</button></Link>\r\n                <Link to=\"/my-hobbies\"><button>Hobbies</button></Link>\r\n                <Link to=\"/my-friends\"><button>Friends</button></Link>\r\n                <Link to=\"/my-chats\"><button>Chats</button></Link>\r\n                <Link to=\"/\"><button onClick={()=>this.logout()}>Logout</button></Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProfileNavbar;\r\n","import React from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport axios from 'axios'\r\nimport ProfileNavbar from \"./ProfileNavbar\";\r\n\r\n\r\nclass Profile extends React.Component {\r\n\r\n  state = {\r\n    user: {\r\n      username: \"\",\r\n      age: '',\r\n      location: '',\r\n      friends: [],\r\n      hobbies: [],\r\n      _id: \"\",\r\n      password: \"\",\r\n      photo: '',\r\n      status:''\r\n    },\r\n    loaded: false,\r\n    requests: [],\r\n    requestCounter: \"\",\r\n    delButton:false,\r\n    delButtonConfirm: \"\",\r\n    deleted:false\r\n\r\n  }\r\n\r\n  componentDidMount(){\r\n    axios({\r\n      method: \"get\",\r\n      url: \"https://phobbies-app.herokuapp.com/sv/return-user\",\r\n      withCredentials: true\r\n    })\r\n    .then(result => {\r\n      axios({\r\n        method: \"post\",\r\n        url: \"https://phobbies-app.herokuapp.com/sv/see-requests\",\r\n        data: {_id: result.data.result._id},\r\n        withCredentials: true\r\n      })\r\n      .then(requests => {\r\n        const stateCopy = {...this.state}\r\n        stateCopy.user = result.data.result\r\n        stateCopy.requests = requests.data\r\n        stateCopy.requestCounter = requests.data.length\r\n        stateCopy.loaded = true\r\n        this.setState(stateCopy)\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n    })  \r\n  }\r\n\r\n\r\n  \r\n\r\n  deleteAccountButton(){\r\n    if(!this.state.delButton){\r\n      this.setState({...this.state, delButton:true})\r\n    }else{\r\n      this.setState({...this.state, delButton:false})\r\n    }\r\n  }\r\n\r\n  handleInput(e){\r\n    const {value} = e.target\r\n    const stateCopy={...this.state}\r\n    stateCopy.delButtonConfirm = value\r\n    this.setState(stateCopy)\r\n  }\r\n\r\n  delAccountConfirmation(){\r\n    axios({\r\n      method:\"POST\",\r\n      url:\"https://phobbies-app.herokuapp.com/sv/delete-user\",\r\n      data: {_id: this.state.user._id},\r\n      withCredentials:true\r\n    })\r\n    .then((result)=>{\r\n      this.props.setAppState()\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { username, friends, photo,status,age,location} = this.state.user;\r\n    return (!this.state.loaded) ? (<div className=\"spinner\"><div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div></div>) : (!this.props.logInSuccess) ? <Redirect to=\"/signup\" /> : (\r\n      <div className=\"Profile\">\r\n        <ProfileNavbar setAppState={()=>this.props.setAppState()}/>\r\n        <img src={photo} alt={`Foto de perfil de ${username}`} />\r\n        <div className=\"info\">\r\n          <h1>Welcome, {username}</h1>\r\n          <p className=\"info-status\">\r\n            <b>Status:</b> {status}\r\n          </p>\r\n          <p className=\"info-location\">\r\n            <b>Location:</b> {location}\r\n          </p>\r\n          <p>\r\n            <b>Age:</b> {age}\r\n          </p>\r\n          <p>\r\n            {friends.length} friends\r\n          </p>\r\n        </div>\r\n        <div className=\"info-buttons\">\r\n          <Link to=\"/edit-user\"><button>Edit user</button></Link>\r\n          <button onClick={()=>this.deleteAccountButton()}>Delete account</button>\r\n            {this.state.delButton ? (\r\n              <div className=\"info-delete\">\r\n                <p>Are you sure? Confirm your username: </p>\r\n                <form onSubmit={()=>this.delAccountConfirmation()}>\r\n                  <input type=\"text\" onChange={(e)=>this.handleInput(e)} autoComplete=\"off\"/>\r\n                  <button>Confirm</button>\r\n                </form>\r\n              </div>\r\n              ) : null}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport axios from 'axios'\r\nimport { Redirect,Link } from \"react-router-dom\";\r\n\r\nclass EditUser extends React.Component {\r\n\r\n    state = {\r\n        user: {\r\n            username: \"\",\r\n            age: '',\r\n            location: '',\r\n            friends: [],\r\n            hobbies: [],\r\n            _id: \"\",\r\n            password: \"\",\r\n            confirmPassword:\"\",\r\n            photo: '',\r\n            status:''\r\n          },\r\n          successEditing: false,\r\n          errorMessage:false\r\n    }\r\n    componentDidMount(){\r\n      const user=this.props.user\r\n      this.setState({\r\n          ...this.state,\r\n          user: user,\r\n        });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        if(this.state.user.password === this.state.user.confirmPassword){\r\n          if (event.target.photo.files.length > 0){\r\n            let photo = event.target.photo.files[0]\r\n            let uploadForm = new FormData()\r\n            uploadForm.append('imageUrl', photo)\r\n            axios({\r\n              method: 'post',\r\n              url: 'https://phobbies-app.herokuapp.com/sv/upload',\r\n              data: uploadForm,\r\n              withCredentials: true\r\n            })\r\n            .then(image => {\r\n              axios({\r\n                method: \"post\",\r\n                url: \"https://phobbies-app.herokuapp.com/sv/edit-user\",\r\n                data: {...this.state.user, photo: image.data.image},\r\n                withCredentials: true\r\n              })\r\n              .then((res)=>{\r\n                this.setState({...this.state, successEditing:true})\r\n              })\r\n            })\r\n            .catch(error => {\r\n              console.log(error)\r\n            })\r\n        }else{\r\n            axios({\r\n              method: \"post\",\r\n              url: \"https://phobbies-app.herokuapp.com/sv/edit-user\",\r\n              data: {...this.state.user},\r\n              withCredentials: true\r\n            })\r\n            .then((res)=>{\r\n             this.setState({...this.state, successEditing:true})\r\n            })\r\n            .catch(error => {\r\n            console.log(error)\r\n            })\r\n            }\r\n        } else{\r\n         this.setState({...this.state, errorMessage:true}) \r\n        }\r\n      }\r\n\r\n      handleChange(event) { \r\n        const { value, name } = event.target;\r\n        this.setState({\r\n          ...this.state,\r\n          user: { ...this.state.user, [name]: value },\r\n        });\r\n      }\r\n\r\n  render() {\r\n    const provincias = ['Alava','Albacete','Alicante','Almería','Asturias','Avila','Badajoz','Barcelona','Burgos','Cáceres',\r\n    'Cádiz','Cantabria','Castellón','Ciudad Real','Córdoba','La Coruña','Cuenca','Gerona','Granada','Guadalajara',\r\n    'Guipúzcoa','Huelva','Huesca','Islas Baleares','Jaén','León','Lérida','Lugo','Madrid','Málaga','Murcia','Navarra',\r\n    'Orense','Palencia','Las Palmas','Pontevedra','La Rioja','Salamanca','Segovia','Sevilla','Soria','Tarragona',\r\n    'Santa Cruz de Tenerife','Teruel','Toledo','Valencia','Valladolid','Vizcaya','Zamora','Zaragoza']\r\n\r\n    const allOptions=provincias.map((provincia, index)=>{return(<option key={index}>{provincia}</option>)})\r\n\r\n    const {photo, age, _id, location,status} = this.props.user\r\n    return this.state.successEditing ? <Redirect to=\"/profile\"/> : (\r\n      <div className=\"EditUser\">\r\n       <h1>Edit profile</h1>\r\n        <form onSubmit={(event) => this.handleSubmit(event)}>\r\n\r\n        <input type=\"text\" name=\"_id\" hidden value={_id} />\r\n\r\n        <label htmlFor=\"photo\">Profile Picture</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"photo\"\r\n          />\r\n          <input type=\"text\" name=\"actualPhoto\" hidden value={photo} />\r\n\r\n          \r\n\r\n          <label htmlFor=\"age\">Age</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"age\"\r\n            onChange={(event) => this.handleChange(event)}\r\n            defaultValue={age}\r\n          />\r\n\r\n          <label htmlFor=\"location\">Location</label>\r\n          <select name=\"location\" onChange={(event) => this.handleChange(event)} defaultValue={location}>\r\n            {allOptions}\r\n          </select>\r\n\r\n          <label htmlFor=\"status\">Status</label>\r\n          <input\r\n            className=\"status\"\r\n            type=\"text\"\r\n            name=\"status\"\r\n            onChange={(event) => this.handleChange(event)}\r\n            defaultValue={status}\r\n          />\r\n\r\n          <label htmlFor=\"password\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={(event) => this.handleChange(event)}\r\n            placeholder= \"Enter your password\"\r\n          />\r\n\r\n          <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"confirmPassword\"\r\n            onChange={(event) => this.handleChange(event)}\r\n            placeholder= \"repeat password\"\r\n          />\r\n          <div>\r\n          <button>Edit profile</button>\r\n          <Link to=\"/profile\"><button>Go back</button></Link>\r\n          </div>\r\n          {this.state.errorMessage ? <p>You have to write the same password on \"Password\" and \"Confirm Password\" fields</p> : null}\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default EditUser;\r\n","import React from \"react\"\r\nimport axios from 'axios'\r\nimport { Redirect } from \"react-router\";\r\n\r\n\r\nclass AddHobbie extends React.Component {\r\n\r\n  state = {\r\n    user: {\r\n      username: \"\",\r\n      age: '',\r\n      location: '',\r\n      friends: [],\r\n      hobbies: [],\r\n      _id: \"\",\r\n      password: \"\",\r\n      photo: '',\r\n      status:''\r\n    },\r\n    newHobbie: {\r\n      userId: '',\r\n      name: '',\r\n      photo: '',\r\n      description: ''\r\n    },\r\n    hobbieCreated: false\r\n  };\r\n\r\n  componentDidMount(){\r\n    const {user} = this.props\r\n    this.setState({user, newHobbie: {...this.state.newHobbie, userId: user._id}})\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    axios({\r\n      method: \"post\",\r\n      url: \"https://phobbies-app.herokuapp.com/sv/hobbies/addHobbie\",\r\n      data: this.state.newHobbie,\r\n      withCredentials: true\r\n    })\r\n      .then((result) => {\r\n        this.setState({...this.state, hobbieCreated:true})\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  handleInput(e) {\r\n    const {name, value } = e.target;\r\n    this.setState({ ...this.state, newHobbie: {...this.state.newHobbie, [name]: value }})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.hobbieCreated ? <Redirect to='/profile'/> : null}\r\n        <h2>No results, create your desired hobbie</h2>\r\n        <form onSubmit={(e)=>this.handleSubmit(e)}>\r\n\r\n            <label htmlFor=\"name\">Name: </label>\r\n            <input type=\"text\" name='name' onChange={(e) => this.handleInput(e)} />\r\n\r\n            <label htmlFor=\"photo\">Picture url: </label>\r\n            <input type=\"text\" name='photo' onChange={(e) => this.handleInput(e)} />\r\n\r\n            <label htmlFor=\"description\">Description: </label>\r\n            <input type=\"text\" name='description' onChange={(e) => this.handleInput(e)} />\r\n\r\n            <button>Add hobbie</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AddHobbie\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AddHobbie from \"./AddHobbie\";\r\n\r\nclass AllHobbies extends React.Component {\r\n    state={\r\n      user: {\r\n        username: \"\",\r\n        age: '',\r\n        location: '',\r\n        friends: [],\r\n        hobbies: [],\r\n        _id: \"\",\r\n        password: \"\",\r\n        photo: '',\r\n        status:''\r\n      },\r\n        allHobbies:[],\r\n        copyAllHobbies:[],\r\n        loaded: false\r\n    }\r\n\r\n    componentDidMount(){\r\n      const user = this.props.user\r\n      axios({\r\n        method: \"get\",\r\n        url: \"https://phobbies-app.herokuapp.com/sv/hobbies/allHobbies\",\r\n        withCredentials: true\r\n      })\r\n        .then((result) => {\r\n          const {hobbies} = result.data\r\n          this.setState({...this.state, loaded: true,  allHobbies: hobbies, copyAllHobbies: hobbies, user})\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n\r\n    filterHobbies(e){\r\n      const {value} = e.target\r\n      const hobbiesfiletered = this.state.allHobbies.filter(hobbie=>{\r\n        return hobbie.name.toLowerCase().includes(value.toLowerCase())\r\n      })\r\n      this.setState({...this.state, copyAllHobbies: hobbiesfiletered})\r\n    }\r\n\r\n\r\n  render() {\r\n    const sortedHobbiesByName = this.state.copyAllHobbies.sort((a,b)=> a.name.localeCompare(b.name))\r\n    const sortedHobbiesByUsers = sortedHobbiesByName.sort((a,b)=> b.users.length - a.users.length)\r\n    const hobbiesmap = sortedHobbiesByUsers.map((hobbie, index)=>{\r\n      return <div key={index} className=\"hobby\">\r\n                <img src={hobbie.photo} alt={hobbie.name}/> \r\n                <h3>{hobbie.name}</h3>\r\n                <p>{hobbie.description.slice(0, 40)}...</p>\r\n                <p><i>{hobbie.users.length} {(hobbie.users.length === 1) ? (\"user\") : (\"users\")}</i></p>\r\n                <Link to={`/hobbie-details/${hobbie.name}`}><button>Details & Users</button></Link>\r\n              </div>\r\n    })\r\n    return this.state.loaded ? (\r\n      <div className=\"AllHobbies\">\r\n        <input type='text' onChange={(e)=>this.filterHobbies(e)} placeholder=\"Search your hobby\"/>\r\n\r\n        {(hobbiesmap.length > 0)\r\n        ? <div className=\"hobbyContainer\">\r\n              {hobbiesmap}\r\n          </div>\r\n        : <div className=\"CreateHobby\">\r\n            <AddHobbie user={this.state.user}/>\r\n          </div>\r\n          }\r\n        </div>\r\n    ) : (\r\n      <div className=\"spinner\">\r\n        <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AllHobbies;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Navbar extends React.Component {\r\n\r\n    render(){\r\n        return this.props.logInSuccess ? (\r\n            <div className=\"Navbar\">\r\n            <Link to=\"/\"><img src=\"https://res.cloudinary.com/hobbiesphere/image/upload/v1621265220/Logo_Phobbie_solo_nombre_negro_lxq426.png\" alt=\"logo name\" /></Link>\r\n                <Link to=\"/profile\"><button>Profile</button></Link>\r\n                <Link to=\"/all-hobbies\"><button>Hobbies</button></Link>\r\n                <label className=\"switch\">\r\n                    <input type=\"checkbox\" onChange={(e)=>this.props.toggleButton(e)}/>\r\n                    <span className=\"slider round\"></span>\r\n                </label>\r\n            </div>\r\n        ) : (\r\n            <div className=\"Navbar\">\r\n            <Link to=\"/\"><img src=\"https://res.cloudinary.com/hobbiesphere/image/upload/v1621265220/Logo_Phobbie_solo_nombre_negro_lxq426.png\" alt=\"logo name\" /></Link>\r\n                <Link to=\"/login\"><button>Log in</button></Link>\r\n                <Link to=\"/signup\"><button>Sign up</button></Link>\r\n                <label className=\"switch\">\r\n                    <input type=\"checkbox\" onChange={(e)=>this.props.toggleButton(e)}/>\r\n                    <span className=\"slider round\"></span>\r\n                </label>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nclass HobbieDetails extends React.Component {\r\n  state = {\r\n    user: {\r\n      username: \"\",\r\n      age: \"\",\r\n      location: \"\",\r\n      friends: [],\r\n      hobbies: [],\r\n      _id: \"\",\r\n      password: \"\",\r\n      photo: \"\",\r\n      status:''\r\n    },\r\n    hobbie: {\r\n      name: \"\",\r\n      photo: \"\",\r\n      description: \"\",\r\n      users: [],\r\n      _id: \"\",\r\n    },\r\n    loaded: false,\r\n    added: false,\r\n    requestSent: false,\r\n    renderUsers: [],\r\n    usersChecked: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios({\r\n      method: \"get\",\r\n      url: `https://phobbies-app.herokuapp.com/sv/hobbie-details/${this.props.match.params.name}`,\r\n      withCredentials: true,\r\n    })\r\n      .then((hobbie) => {\r\n\r\n          axios({\r\n              method: \"get\",\r\n              url: \"https://phobbies-app.herokuapp.com/sv/return-user\",\r\n              withCredentials: true\r\n          })\r\n          .then(user=>{\r\n            if(user.data.result.hobbies.filter(hob=> hob.name === hobbie.data.name).length>0){\r\n              this.setState({\r\n                ...this.state,\r\n                hobbie: hobbie.data,\r\n                user: user.data.result,\r\n                renderUsers: hobbie.data.users,\r\n                loaded: true,\r\n                added: true\r\n              })\r\n            }else{\r\n              this.setState({\r\n                ...this.state,\r\n                hobbie: hobbie.data,\r\n                renderUsers: hobbie.data.users,\r\n                user: user.data.result,\r\n                loaded: true\r\n              })\r\n            }\r\n          })\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  addToMyHobbies(_id){\r\n    axios({\r\n      method: \"post\",\r\n      url: \"https://phobbies-app.herokuapp.com/sv/hobbies/addToMyHobbies\",\r\n      data: {_id, userId: this.state.user._id},\r\n      withCredentials: true\r\n    })\r\n    .then(result => {\r\n      this.setState({...this.state, user: result.data.user, hobbie: result.data.hobbie, renderUsers: result.data.hobbie.users, added: true})\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n    })  \r\n  }\r\n\r\n  removeFromMyHobbies(_id){\r\n    axios({\r\n      method: \"post\",\r\n      url: \"https://phobbies-app.herokuapp.com/sv/hobbies/removeFromMyHobbies\",\r\n      data: {_id, userId: this.state.user._id},\r\n      withCredentials: true\r\n    })\r\n    .then(result => {\r\n        this.setState({...this.state, user: result.data.user, hobbie: result.data.hobbie, renderUsers: result.data.hobbie.users, added: false})\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n    })  \r\n  }\r\n\r\n  sendFriendRequest(id){\r\n    axios({\r\n      method: \"post\",\r\n      url: \"https://phobbies-app.herokuapp.com/sv/send-request\",\r\n      data: {requester: this.state.user._id, recipient: id},\r\n      withCredentials: true\r\n    })\r\n    .then(result => {\r\n      this.setState({...this.state, requestSent: true})\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n    })\r\n  }\r\n\r\n  filterUsers(e){\r\n    const {value} = e.target\r\n    const renderUsers = this.state.hobbie.users.filter(user=>{\r\n      return user.username.toLowerCase().includes(value.toLowerCase())\r\n    })\r\n    this.setState({...this.state, renderUsers: renderUsers})\r\n  }\r\n\r\n  onlyMyAreaUsers(){\r\n    const {usersChecked} = this.state\r\n    if (usersChecked === false){\r\n      const filteredUsers = this.state.hobbie.users.filter(user=>{\r\n        return user.location === this.state.user.location\r\n      })\r\n      this.setState({...this.state, usersChecked: true, renderUsers: filteredUsers})\r\n    }else{\r\n      this.setState({...this.state, usersChecked: false, renderUsers: this.state.hobbie.users})\r\n    }\r\n  }\r\n\r\n  checkIfFriends(username){\r\n    const {friends} = this.state.user\r\n    const booleanArr = friends.filter(friend=>{\r\n      return friend.username === username\r\n      })\r\n    return booleanArr.length > 0\r\n  }\r\n\r\n  render() {\r\n\r\n    const {name,photo,description, _id} = this.state.hobbie\r\n    const {renderUsers} = this.state\r\n    const sortedUsersByName = renderUsers.sort((a,b)=> a.username.localeCompare(b.username))\r\n    const filteredUsers = sortedUsersByName.filter(user=>user._id !== this.state.user._id)\r\n    const usersmap = filteredUsers.map((user, index)=>{\r\n      return <div className=\"friend\" key={index}>\r\n                <img src={user.photo} alt={user.username} style={{width: \"100px\"}}/> \r\n                <h3>{user.username}</h3>\r\n                {this.checkIfFriends(user.username) ? <button disabled>Already friends</button> : <button onClick={()=>this.sendFriendRequest(user._id)}>Send friend request</button>}\r\n              </div>\r\n    })\r\n    return this.state.loaded ? (\r\n      <div className=\"HobbieDetails\">\r\n        <h1>{name}</h1>\r\n        <hr />\r\n        <div className=\"hobbieContainer\">\r\n        <img src={photo} alt={name} />\r\n        {/* <h2>{name}</h2> */}\r\n        <p>{description}</p>\r\n        {this.state.added ? (\r\n            <button onClick={()=>this.removeFromMyHobbies(_id)}>Remove from my hobbies</button>\r\n        ):(\r\n            <button onClick={()=>this.addToMyHobbies(_id)}>Add to my hobbies</button>\r\n            )}\r\n        <div>\r\n        <input className=\"search-user\" type=\"text\" onChange={(e)=>this.filterUsers(e)} placeholder=\"Search users...\"/>\r\n        <div className=\"my-area\">\r\n            <input type=\"checkbox\" onChange={()=>this.onlyMyAreaUsers()} />\r\n            <label>My area users</label>            \r\n        </div> \r\n\r\n        <div>\r\n            {usersmap}\r\n        </div>\r\n\r\n        </div>\r\n        </div>\r\n      </div>\r\n    ) : (\r\n      <div className=\"spinner\">\r\n        <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HobbieDetails;\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nclass FriendProfile extends React.Component {\r\n    state = {\r\n      user: {\r\n        username: \"\",\r\n        age: \"\",\r\n        location: \"\",\r\n        friends: [],\r\n        hobbies: [],\r\n        _id: \"\",\r\n        password: \"\",\r\n        photo: \"\",\r\n        status:''\r\n      },\r\n        friend: {\r\n          username: \"\",\r\n          age: '',\r\n          location: '',\r\n          friends: [],\r\n          hobbies: [],\r\n          _id: \"\",\r\n          photo: '',\r\n          status:''\r\n        },\r\n        loaded: false,\r\n        deleted: false\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios({\r\n          method: \"get\",\r\n          url: `https://phobbies-app.herokuapp.com/sv/return-friend/${this.props.match.params.id}`,\r\n          withCredentials: true\r\n        })\r\n        .then(result => {\r\n            const stateCopy = {...this.state}\r\n            stateCopy.friend = result.data.result\r\n            stateCopy.user = this.props.user\r\n            stateCopy.loaded = true\r\n            this.setState(stateCopy)\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })  \r\n      }\r\n\r\n      deleteFriend(friendId){\r\n        axios({\r\n          method: \"post\",\r\n          url: \"https://phobbies-app.herokuapp.com/sv/delete-friend\",\r\n          data: {requester:this.state.user._id, recipient:friendId},\r\n          withCredentials: true\r\n        })\r\n        .then(result => {\r\n          this.setState({...this.state, deleted: true})\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n      }\r\n\r\n    render(){\r\n        const {_id, username, friends, photo, hobbies,status,age,location} = this.state.friend;\r\n        let hobbiesList\r\n        if (this.state.loaded){\r\n          hobbiesList = hobbies.map((hobbie, index) => {\r\n            return (\r\n                <li key={index}>\r\n                  <img src={hobbie.photo} alt={`${hobbie.name} foto`} style={{width: \"200px\"}} />\r\n                  {hobbie.name}\r\n                  <Link to={`/hobbie-details/${hobbie.name}`}><button>See details</button></Link>\r\n                </li>\r\n            )\r\n          })\r\n        }\r\n        return this.state.deleted ? <Redirect to=\"/profile\" /> : this.state.loaded ? (\r\n          <div className=\"Profile\">\r\n            <img src={photo} alt={`Foto de perfil de ${username}`} />\r\n\r\n            <div className=\"info\">\r\n              <h1>{username} profile</h1>\r\n              <p className=\"info-status\">\r\n                <b>Status:</b> {status}\r\n              </p>\r\n              <p className=\"info-location\">\r\n                <b>Location:</b> {location}\r\n              </p>\r\n              <p>\r\n                <b>Age:</b> {age}\r\n              </p>\r\n              <p>\r\n                {friends.length} friends\r\n              </p>\r\n            </div>\r\n            <div className=\"info-buttons\">\r\n              <Link to={`/chat/${_id}`}><button>Chat</button></Link>\r\n              <button onClick={()=>this.deleteFriend(_id)}>Delete Friend</button>\r\n            </div>\r\n\r\n            {(hobbies.length !== 0)\r\n            ?   <div>\r\n                    <h2>Hobbies</h2>\r\n                    <ul>{hobbiesList}</ul>\r\n                </div>\r\n\r\n            :   <p>No hobbies yet</p>}\r\n            \r\n            </div>\r\n        ) : (\r\n          <div className=\"spinner\">\r\n            <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n          </div>\r\n        )\r\n      }\r\n}\r\n\r\nexport default FriendProfile;\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProfileNavbar from \"./ProfileNavbar\";\r\n\r\nclass MyFriends extends React.Component {\r\n    state={\r\n        user:{},\r\n        requests: [],\r\n        friendsRender: [],\r\n        loaded:false,\r\n    }\r\n\r\n    componentDidMount(){\r\n    axios({\r\n      method: \"get\",\r\n      url: \"https://phobbies-app.herokuapp.com/sv/return-user\",\r\n      withCredentials: true\r\n    })\r\n    .then(result => {\r\n      axios({\r\n        method: \"post\",\r\n        url: \"https://phobbies-app.herokuapp.com/sv/see-requests\",\r\n        data: {_id: result.data.result._id},\r\n        withCredentials: true\r\n      })\r\n      .then(requests => {\r\n        const stateCopy = {...this.state}\r\n        stateCopy.user = result.data.result\r\n        stateCopy.friendsRender = result.data.result.friends\r\n        stateCopy.requests = requests.data\r\n        stateCopy.loaded = true\r\n        this.setState(stateCopy)\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log(error)\r\n    })  \r\n  }\r\n\r\n    updateRequestAndFriends(){\r\n        axios({\r\n        method: \"get\",\r\n        url: \"https://phobbies-app.herokuapp.com/sv/return-user\",\r\n        withCredentials: true\r\n        })\r\n        .then(result => {\r\n          axios({\r\n            method: \"post\",\r\n            url: \"https://phobbies-app.herokuapp.com/sv/see-requests\",\r\n            data: {_id: result.data.result._id},\r\n            withCredentials: true\r\n          })\r\n          .then(requests => {\r\n            const stateCopy = {...this.state}\r\n            stateCopy.user = result.data.result\r\n            stateCopy.friendsRender = result.data.result.friends\r\n            stateCopy.requests = requests.data\r\n            stateCopy.loaded = true\r\n            this.setState(stateCopy)\r\n          })\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n    }\r\n\r\n\r\n    acceptFriendRequest(requesterId, reqId){\r\n        axios({\r\n          method: \"post\",\r\n          url: \"https://phobbies-app.herokuapp.com/sv/accept-request\",\r\n          data: {_id:reqId, requester:requesterId, recipient: this.state.user._id},\r\n          withCredentials: true\r\n        })\r\n        .then(result => {\r\n          this.updateRequestAndFriends()\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n      }\r\n    \r\n      rejectFriendRequest(requesterId, reqId){\r\n        axios({\r\n          method: \"post\",\r\n          url: \"https://phobbies-app.herokuapp.com/sv/reject-request\",\r\n          data: {_id:reqId, requester:requesterId, recipient: this.state.user._id},\r\n          withCredentials: true\r\n        })\r\n        .then(result => {\r\n            this.updateRequestAndFriends()\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n        })\r\n      }\r\n\r\n      filterFriends(e){\r\n        const {value} = e.target\r\n        const friendsFiltered = this.state.user.friends.filter((friend)=>{\r\n          return friend.username.toLowerCase().includes(value.toLowerCase())\r\n        })\r\n        this.setState({...this.state, friendsRender: friendsFiltered})\r\n      }\r\n\r\n    render(){\r\n        const {friends} = this.state.user\r\n        const {friendsRender} = this.state;\r\n        const {requests} = this.state\r\n        let friendList, friendRequests\r\n        if (this.state.loaded){\r\n            friendList = friendsRender.map((friend, index) => {\r\n                return (\r\n                <div key={index} className=\"friend\">\r\n                    <img src={friend.photo} alt={`${friend.username} foto`} />\r\n                    <p>{friend.username}</p>\r\n                    <Link to={`/return-friend/${friend._id}`}><button>See profile</button></Link>\r\n                </div>\r\n                );\r\n            });\r\n            friendRequests = requests.map((req, index)=>{\r\n                return (\r\n                <div key={index} className=\"friend\">\r\n                    <img src={req.requester.photo} alt={req.requester.username} />\r\n                    <p>{req.requester.username}</p>    \r\n                    <div className=\"friend-req-buttons\">     \r\n                      <button onClick={()=>this.acceptFriendRequest(req.requester._id, req._id)}>Accept</button>\r\n                      <button onClick={()=>this.rejectFriendRequest(req.requester._id, req._id)}>Reject</button>\r\n                    </div> \r\n                </div>\r\n                )\r\n            })\r\n        }\r\n\r\n        return this.state.loaded ? (\r\n            <div className=\"MyFriends\">\r\n            \r\n                <ProfileNavbar />\r\n\r\n                <div className=\"requestList\">\r\n                  <h2>Requests</h2>\r\n                  {(this.state.requests.length !== 0) ? <div>{friendRequests}</div> : <p>You don't have any friend requests</p>}\r\n                </div>\r\n\r\n                <div className=\"friendList\">\r\n                  <h2>Friends</h2>\r\n                  <input type='text' onChange={(e)=>this.filterFriends(e)} placeholder=\"Search friend...\"/>\r\n                  {(friends.length !== 0) ? <div className=\"friendContainer\">{friendList}</div> : <p>You don't have friends yet</p>}\r\n                </div>\r\n\r\n            </div>\r\n            \r\n        ) : (\r\n          <div className=\"spinner\">\r\n            <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n          </div>\r\n        )\r\n    }\r\n}\r\nexport default MyFriends;","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProfileNavbar from \"./ProfileNavbar\";\r\n\r\n\r\n\r\nclass MyHobbies extends React.Component {\r\n\r\n    state = {\r\n        user: {\r\n          username: \"\",\r\n          age: '',\r\n          location: '',\r\n          friends: [],\r\n          hobbies: [],\r\n          _id: \"\",\r\n          password: \"\",\r\n          photo: '',\r\n          status:''\r\n        },\r\n        loaded: false\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios({\r\n            method: \"get\",\r\n            url: \"https://phobbies-app.herokuapp.com/sv/return-user\",\r\n            withCredentials: true\r\n        })\r\n        .then(result => {\r\n            const stateCopy = {...this.state}\r\n            stateCopy.user = result.data.result\r\n            stateCopy.loaded = true\r\n            this.setState(stateCopy)\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    render(){\r\n        let hobbiesList\r\n        if(this.state.loaded){\r\n            hobbiesList = this.state.user.hobbies.map((hobbie, index) => {\r\n                return (\r\n                  <li key={index} className=\"hobby\">\r\n                    <img src={hobbie.photo} alt={`${hobbie.name} foto`} />\r\n                    {hobbie.name}\r\n                    <Link to={`/hobbie-details/${hobbie.name}`}><button>See details</button></Link>\r\n                  </li>\r\n                )\r\n              })\r\n        }\r\n\r\n        return this.state.loaded ? (\r\n            <div className=\"MyHobbies\">\r\n                <ProfileNavbar />\r\n                <h1>My Hobbies</h1>\r\n                {this.state.user.hobbies.length !== 0 ?\r\n                (\r\n                    <ul>\r\n                        {hobbiesList}\r\n                    </ul>\r\n                ) : (\r\n                    <div>\r\n                        <p>You don't have any hobbies added yet.</p>\r\n                        <Link to=\"/all-hobbies\">Go add some!</Link>\r\n                    </div>\r\n                )\r\n                }\r\n            </div> \r\n        ) : (\r\n            <div className=\"spinner\">\r\n                <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default MyHobbies;","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ProfileNavbar from \"./ProfileNavbar\";\r\n\r\n\r\nclass ChatList extends React.Component {\r\n    state={\r\n        user:{},\r\n        loaded:false,\r\n        chats:[],\r\n        renderChats: []\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios({\r\n            method: \"get\",\r\n            url: \"https://phobbies-app.herokuapp.com/sv/return-all-chats\",\r\n            withCredentials: true\r\n          })\r\n        .then((result) => {\r\n            axios({\r\n                method: \"get\",\r\n                url: \"https://phobbies-app.herokuapp.com/sv/return-user\",\r\n                withCredentials: true\r\n              })\r\n            .then((user)=>{\r\n                const stateCopy = {...this.state}\r\n                stateCopy.chats = result.data\r\n                stateCopy.renderChats = result.data\r\n                stateCopy.user = user.data.result\r\n                stateCopy.loaded = true\r\n                this.setState(stateCopy)\r\n            })\r\n        }).catch((err) => {\r\n            console.log(err)\r\n        });\r\n    }\r\n\r\n    filterChats(e){\r\n        const {value} = e.target\r\n        const chatsFiltered = this.state.chats.filter((chat, index)=>{\r\n          const friend = chat.participants.filter(participant => participant._id !== this.state.user._id)[0]\r\n          return friend.username.toLowerCase().includes(value.toLowerCase())\r\n        })\r\n        this.setState({...this.state, renderChats: chatsFiltered})\r\n      }\r\n\r\n    render(){\r\n        let allChats\r\n        if (this.state.loaded){  \r\n        allChats = this.state.renderChats.map((chat, index)=>{\r\n\r\n            const friend = chat.participants.filter(participant => participant._id !== this.state.user._id)[0]\r\n\r\n            const unreadMsgs = chat.messages.filter(message=> message.status === \"UNREAD\" && message.username !== this.state.user.username)\r\n\r\n            \r\n            return(\r\n                <Link to={`/chat/${friend._id}`} key={index}>\r\n                    <div className=\"friend\">\r\n                        <img src={friend.photo} alt={friend.username}/>\r\n                        <div>\r\n                            <p><b>Chatting with {friend.username}</b></p>\r\n                            <p>Unread messages: {unreadMsgs.length}</p>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            )\r\n        })}\r\n\r\n        return this.state.loaded ? (\r\n            <div className=\"Chatlist\">\r\n                <ProfileNavbar />\r\n                <h1>Chatlist</h1>\r\n                <input type='text' onChange={(e)=>this.filterChats(e)} />\r\n                <div className=\"chatContainer\">\r\n                   {allChats} \r\n                </div>\r\n            </div>\r\n\r\n        ) : (\r\n            <div className=\"spinner\">\r\n                <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default ChatList;","import React from \"react\";\r\nimport {Switch, Route} from \"react-router-dom\";\r\n\r\nimport Home from \"./components/Home\";\r\nimport Login from \"./components/Login\";\r\nimport Signup from \"./components/Signup\";\r\nimport Profile from \"./components/Profile\";\r\nimport EditUser from \"./components/EditUser\";\r\nimport AllHobbies from \"./components/AllHobbies\";\r\nimport AddHobbie from \"./components/AddHobbie\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport HobbieDetails from \"./components/HobbieDetails\";\r\nimport FriendProfile from \"./components/FriendProfile\";\r\nimport MyFriends from \"./components/MyFriends\";\r\nimport MyHobbies from \"./components/MyHobbies\";\r\nimport ChatList from \"./components/ChatList\";\r\nimport Chat from \"./components/Chat\";\r\n\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    user: {\r\n      username: \"\",\r\n      age: \"\",\r\n      location: \"\",\r\n      friends: [],\r\n      hobbies: [],\r\n      _id: \"\",\r\n      password: \"\",\r\n      photo: \"\",\r\n      status:''\r\n    },\r\n    logInSuccess: false,\r\n    theme: 'dark'\r\n  }\r\n\r\n  toggleMode(){\r\n    if (this.state.theme === 'light'){\r\n      this.setState({...this.state, theme: \"dark\"})\r\n    }else{\r\n      this.setState({...this.state, theme: \"light\"})\r\n    }\r\n  }\r\n\r\n\r\n  editStateFromLogin(body) {\r\n    const stateCopy = { ...this.state }\r\n    stateCopy.user = body\r\n    stateCopy.logInSuccess = true\r\n    this.setState(stateCopy)\r\n  }\r\n\r\n  editStateFromLogout(){\r\n    const stateCopy = { ...this.state }\r\n    stateCopy.user = {}\r\n    stateCopy.logInSuccess = false\r\n    this.setState(stateCopy)\r\n  }\r\n  \r\n  render() {\r\n    return (\r\n      <div className={`App ${this.state.theme}`}>\r\n        <Navbar logInSuccess={this.state.logInSuccess} toggleButton={()=>this.toggleMode()}/>\r\n        <Switch>\r\n          <Route\r\n            path=\"/\"\r\n            exact\r\n            component={() => <Home />}\r\n          />\r\n          <Route\r\n            path=\"/profile\"\r\n            exact\r\n            component={() => <Profile logInSuccess={this.state.logInSuccess} setAppState={()=>this.editStateFromLogout()}/>}\r\n          />\r\n          <Route\r\n            path=\"/login\"\r\n            exact\r\n            component={() => (\r\n              <Login\r\n                setAppState={(body) => this.editStateFromLogin(body)}\r\n                logInSuccess={this.state.logInSuccess}\r\n              />\r\n            )}\r\n          />\r\n          <Route path=\"/signup\" exact component={() => <Signup />} />\r\n          <Route\r\n            path=\"/edit-user\"\r\n            exact\r\n            component={() => <EditUser user={this.state.user} />}\r\n          />\r\n          <Route\r\n            path=\"/all-hobbies\"\r\n            exact\r\n            component={() => <AllHobbies user={this.state.user} />}\r\n          />\r\n          <Route\r\n            path=\"/add-hobbies\"\r\n            exact\r\n            component={() => <AddHobbie user={this.state.user} />}\r\n          />\r\n          <Route\r\n            path=\"/hobbie-details/:name\"\r\n            exact\r\n            component={(routeProps) => <HobbieDetails {...routeProps} />}\r\n          />\r\n          <Route\r\n            path=\"/return-friend/:id\"\r\n            exact\r\n            component={(routeProps) => <FriendProfile {...routeProps} user={this.state.user}/>}\r\n          />\r\n           <Route\r\n            path=\"/my-hobbies\"\r\n            exact\r\n            component={() => <MyHobbies />}\r\n          />\r\n           <Route\r\n            path=\"/my-friends\"\r\n            exact\r\n            component={() => <MyFriends />}\r\n          />\r\n           <Route\r\n            path=\"/my-chats\"\r\n            exact\r\n            component={() => <ChatList />}\r\n          />\r\n          <Route\r\n            path=\"/chat/:_id\"\r\n            exact\r\n            component={(routeProps) => <Chat {...routeProps} user={this.state.user}/>}\r\n          />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}